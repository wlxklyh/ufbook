# GitHub Pages éƒ¨ç½²è¶…æ—¶é—®é¢˜æ’æŸ¥æŒ‡å—

## ğŸ”´ é—®é¢˜æè¿°

GitHub Actions éƒ¨ç½²åˆ° GitHub Pages æ—¶å‡ºç°è¶…æ—¶é”™è¯¯ï¼š
```
Getting Pages deployment status...
Current status: deployment_queued
Error: Timeout reached, aborting!
Canceling Pages deployment...
```

## ğŸ” é—®é¢˜åŸå› 

`actions/deploy-pages@v4` æ“ä½œä¼šç­‰å¾…éƒ¨ç½²å®Œæˆï¼Œä½†éƒ¨ç½²çŠ¶æ€ä¸€ç›´åœç•™åœ¨ `deployment_queued`ï¼Œå¯¼è‡´è¶…æ—¶ã€‚å¸¸è§åŸå› åŒ…æ‹¬ï¼š

1. **âš ï¸ æ–‡ä»¶å¤§å°è¶…é™** - **å¦‚æœç«™ç‚¹å¤§å°è¶…è¿‡ 1GBï¼Œè¿™æ˜¯æœ€å¯èƒ½çš„åŸå› ï¼**
   - GitHub Pages é™åˆ¶ï¼šå‘å¸ƒçš„ç«™ç‚¹å¤§å°ä¸Šé™ä¸º **1 GB**
   - å¦‚æœæ‚¨çš„ç«™ç‚¹æœ‰ 2GBï¼Œå·²è¶…å‡ºé™åˆ¶ï¼Œä¼šå¯¼è‡´éƒ¨ç½²å¤±è´¥æˆ–è¶…æ—¶
2. **GitHub Pages æºé…ç½®é”™è¯¯**
3. **æƒé™æˆ–ç¯å¢ƒé…ç½®é—®é¢˜**
4. **GitHub éƒ¨ç½²é˜Ÿåˆ—æ‹¥å µ**
5. **é¦–æ¬¡éƒ¨ç½²éœ€è¦æ›´é•¿æ—¶é—´**

## âœ… è§£å†³æ–¹æ¡ˆ

### âš ï¸ æ–¹æ¡ˆ 0ï¼šæ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆå¦‚æœç«™ç‚¹çº¦ 2GBï¼Œè¿™æ˜¯æœ€å¯èƒ½çš„åŸå› ï¼ï¼‰

**GitHub Pages æ–‡ä»¶å¤§å°é™åˆ¶ï¼š**
- å‘å¸ƒçš„ç«™ç‚¹å¤§å°ä¸Šé™ï¼š**1 GB**
- å¦‚æœç«™ç‚¹å¤§å°è¶…è¿‡ 1GBï¼Œéƒ¨ç½²ä¼šå¤±è´¥æˆ–è¶…æ—¶

**æ£€æŸ¥ç«™ç‚¹å¤§å°ï¼š**
```powershell
# æ£€æŸ¥æ„å»ºåçš„ site ç›®å½•å¤§å°
cd d:\myws\github\proj\ufbook
Get-ChildItem -Path site -Recurse -File | Measure-Object -Property Length -Sum | Select-Object @{Name='SizeGB';Expression={[math]::Round($_.Sum/1GB,2)}}
```

**å¦‚æœç«™ç‚¹è¶…è¿‡ 1GBï¼Œéœ€è¦ä¼˜åŒ–ï¼š**

1. **å‹ç¼©å›¾ç‰‡æ–‡ä»¶**
   - ä½¿ç”¨å·¥å…·å‹ç¼© PNG/JPG å›¾ç‰‡ï¼šTinyPNGã€Squoosh
   - å•å¼ å›¾ç‰‡å»ºè®® < 500KB
   - å‡å°‘å›¾ç‰‡å°ºå¯¸ï¼ˆ1920x1080 æˆ–æ›´å°ï¼‰

2. **ç§»é™¤ä¸å¿…è¦çš„æ–‡ä»¶**
   - åˆ é™¤æœªä½¿ç”¨çš„å›¾ç‰‡å’Œèµ„æº
   - æ¸…ç†é‡å¤æ–‡ä»¶

3. **ä½¿ç”¨å¤–éƒ¨å­˜å‚¨ï¼ˆæ¨èï¼‰**
   - å°†å¤§å‹åª’ä½“æ–‡ä»¶å­˜å‚¨åˆ°å¤–éƒ¨æœåŠ¡ï¼ˆå¦‚è…¾è®¯äº‘ COSã€GitHub Releasesï¼‰
   - åœ¨ Markdown ä¸­å¼•ç”¨å¤–éƒ¨é“¾æ¥

4. **ä¼˜åŒ–æ„å»ºè¾“å‡º**
   - ä½¿ç”¨å›¾ç‰‡å‹ç¼©æ’ä»¶
   - å¯ç”¨èµ„æºå‹ç¼©å’Œä¼˜åŒ–

5. **ä½¿ç”¨ Git LFSï¼ˆä¸æ¨èç”¨äº GitHub Pagesï¼‰**
   - GitHub Pages ä¸æ”¯æŒ Git LFS
   - å»ºè®®ä½¿ç”¨å¤–éƒ¨å­˜å‚¨æˆ–å‹ç¼©æ–‡ä»¶

**æ¨èæ–¹æ¡ˆï¼šä½¿ç”¨è…¾è®¯äº‘å¼€å‘éƒ¨ç½²å¤§æ–‡ä»¶ç«™ç‚¹**
- è…¾è®¯äº‘å¼€å‘æ”¯æŒæ›´å¤§çš„æ–‡ä»¶å¤§å°é™åˆ¶
- æ›´é€‚åˆæœ‰å¤§é‡å›¾ç‰‡çš„æ–‡æ¡£ç«™ç‚¹
- å‚è€ƒï¼š[CLOUDBASE_DEPLOYMENT.md](./CLOUDBASE_DEPLOYMENT.md)

### æ–¹æ¡ˆ 1ï¼šæ£€æŸ¥å¹¶ä¿®å¤ GitHub Pages æºé…ç½®

1. **è®¿é—®ä»“åº“è®¾ç½®**
   - æ‰“å¼€ï¼š`https://github.com/wlxklyh/ufbook/settings/pages`

2. **æ£€æŸ¥ Pages æºè®¾ç½®**
   - åœ¨ **"Build and deployment"** éƒ¨åˆ†
   - **Source** å¿…é¡»é€‰æ‹©ï¼š**`GitHub Actions`** âœ…
   - **ä¸èƒ½é€‰æ‹©**ï¼š`Deploy from a branch` âŒ

3. **å¦‚æœæºè®¾ç½®é”™è¯¯**
   - å°† Source æ”¹ä¸º `GitHub Actions`
   - ç‚¹å‡» **Save** ä¿å­˜
   - é‡æ–°è§¦å‘å·¥ä½œæµ

### æ–¹æ¡ˆ 2ï¼šæ£€æŸ¥ç¯å¢ƒæƒé™é…ç½®

1. **æ£€æŸ¥ç¯å¢ƒè®¾ç½®**
   - è®¿é—®ï¼š`https://github.com/wlxklyh/ufbook/settings/environments`
   - ç¡®ä¿å­˜åœ¨ `github-pages` ç¯å¢ƒ
   - å¦‚æœæ²¡æœ‰ï¼ŒGitHub Actions ä¼šåœ¨é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨åˆ›å»º

2. **æ£€æŸ¥ç¯å¢ƒä¿æŠ¤è§„åˆ™**
   - å¦‚æœç¯å¢ƒæœ‰ä¿æŠ¤è§„åˆ™ï¼ˆå¦‚éœ€è¦å®¡æ‰¹ï¼‰ï¼Œå¯èƒ½å¯¼è‡´éƒ¨ç½²å¡ä½
   - æš‚æ—¶ç¦ç”¨ä¿æŠ¤è§„åˆ™è¿›è¡Œæµ‹è¯•

### æ–¹æ¡ˆ 3ï¼šç­‰å¾…å¹¶é‡è¯•

1. **é¦–æ¬¡éƒ¨ç½²**
   - é¦–æ¬¡ä½¿ç”¨ GitHub Actions éƒ¨ç½²å¯èƒ½éœ€è¦ 10-15 åˆ†é’Ÿ
   - å¦‚æœè¶…æ—¶æ—¶é—´ä¸å¤Ÿï¼Œå¯ä»¥ç­‰å¾…ä¸€æ®µæ—¶é—´åé‡è¯•

2. **GitHub æœåŠ¡çŠ¶æ€**
   - æ£€æŸ¥ GitHub çŠ¶æ€é¡µé¢ï¼šhttps://www.githubstatus.com/
   - å¦‚æœ GitHub Pages æœåŠ¡æœ‰é—®é¢˜ï¼Œéœ€è¦ç­‰å¾…æœåŠ¡æ¢å¤

### æ–¹æ¡ˆ 4ï¼šä½¿ç”¨ gh-pages åˆ†æ”¯éƒ¨ç½²ï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰

å¦‚æœ GitHub Actions æŒç»­è¶…æ—¶ï¼Œå¯ä»¥ä¸´æ—¶åˆ‡æ¢å› `gh-pages` åˆ†æ”¯éƒ¨ç½²ï¼š

1. **åœ¨ GitHub è®¾ç½®ä¸­åˆ‡æ¢æº**
   - Settings â†’ Pages â†’ Source: æ”¹ä¸º `Deploy from a branch`
   - Branch: é€‰æ‹© `gh-pages` åˆ†æ”¯

2. **æ‰‹åŠ¨éƒ¨ç½²**
   ```bash
   mkdocs gh-deploy --clean
   ```

## ğŸ”§ éªŒè¯æ­¥éª¤

æ‰§è¡Œä»¥ä¸‹æ­¥éª¤éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®ï¼š

### æ­¥éª¤ 1ï¼šæ£€æŸ¥å·¥ä½œæµæ–‡ä»¶
ç¡®ä¿ `.github/workflows/gh-pages.yml` æ–‡ä»¶å­˜åœ¨ä¸”é…ç½®æ­£ç¡®ã€‚

### æ­¥éª¤ 2ï¼šæ£€æŸ¥ Pages æºè®¾ç½®
```bash
# è®¿é—®ä»¥ä¸‹ URL æ£€æŸ¥è®¾ç½®
https://github.com/wlxklyh/ufbook/settings/pages
```
- âœ… Source åº”ä¸ºï¼š`GitHub Actions`
- âŒ Source ä¸åº”ä¸ºï¼š`Deploy from a branch`

### æ­¥éª¤ 3ï¼šé‡æ–°è§¦å‘å·¥ä½œæµ
1. è®¿é—®ï¼š`https://github.com/wlxklyh/ufbook/actions`
2. é€‰æ‹© "Deploy to GitHub Pages" å·¥ä½œæµ
3. ç‚¹å‡» "Run workflow" æ‰‹åŠ¨è§¦å‘
4. è§‚å¯Ÿéƒ¨ç½²è¿‡ç¨‹

### æ­¥éª¤ 4ï¼šæŸ¥çœ‹éƒ¨ç½²æ—¥å¿—
åœ¨å·¥ä½œæµè¿è¡Œé¡µé¢æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼ŒæŸ¥æ‰¾é”™è¯¯ä¿¡æ¯ã€‚

## ğŸ“‹ å¸¸è§é—®é¢˜

### Q1: éƒ¨ç½²ä¸€ç›´æ˜¾ç¤º "deployment_queued" çŠ¶æ€
**A:** è¿™é€šå¸¸è¡¨ç¤º GitHub Pages æºé…ç½®é”™è¯¯ã€‚ç¡®ä¿åœ¨ä»“åº“è®¾ç½®ä¸­é€‰æ‹© `GitHub Actions` ä½œä¸ºæºã€‚

### Q2: å·¥ä½œæµæˆåŠŸå®Œæˆä½†ç½‘ç«™æœªæ›´æ–°
**A:** 
- æ£€æŸ¥ Pages æºè®¾ç½®æ˜¯å¦æ­£ç¡®
- ç­‰å¾… 5-10 åˆ†é’Ÿè®© GitHub å®Œæˆéƒ¨ç½²
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜åé‡æ–°è®¿é—®

### Q3: æƒé™é”™è¯¯
**A:** ç¡®ä¿å·¥ä½œæµæ–‡ä»¶ä¸­çš„æƒé™è®¾ç½®æ­£ç¡®ï¼š
```yaml
permissions:
  contents: read
  pages: write
  id-token: write
```

### Q4: æ˜¯å¦å¯ä»¥å¢åŠ è¶…æ—¶æ—¶é—´ï¼Ÿ
**A:** `actions/deploy-pages@v4` æ“ä½œæ²¡æœ‰å¯é…ç½®çš„è¶…æ—¶å‚æ•°ã€‚å¦‚æœæŒç»­è¶…æ—¶ï¼Œé€šå¸¸æ˜¯é…ç½®é—®é¢˜æˆ–æ–‡ä»¶å¤§å°è¶…é™ï¼Œè€Œä¸æ˜¯è¶…æ—¶æ—¶é—´é—®é¢˜ã€‚

### Q5: ç«™ç‚¹æœ‰ 2GBï¼Œå¦‚ä½•éƒ¨ç½²ï¼Ÿ
**A:** GitHub Pages é™åˆ¶ä¸º 1GBï¼Œ2GB å·²è¶…å‡ºé™åˆ¶ã€‚å»ºè®®ï¼š
1. **ä¼˜åŒ–æ–‡ä»¶å¤§å°**ï¼šå‹ç¼©å›¾ç‰‡ï¼Œç§»é™¤ä¸å¿…è¦æ–‡ä»¶
2. **ä½¿ç”¨å¤–éƒ¨å­˜å‚¨**ï¼šå°†å¤§æ–‡ä»¶å­˜å‚¨åˆ°å¤–éƒ¨æœåŠ¡
3. **ä½¿ç”¨è…¾è®¯äº‘å¼€å‘**ï¼šæ”¯æŒæ›´å¤§çš„æ–‡ä»¶å¤§å°ï¼Œæ›´é€‚åˆå¤§æ–‡ä»¶ç«™ç‚¹

## ğŸš€ æ¨èæ“ä½œæµç¨‹

1. âœ… **é¦–å…ˆæ£€æŸ¥ç«™ç‚¹æ–‡ä»¶å¤§å°**ï¼ˆå¦‚æœçº¦ 2GBï¼Œè¿™æ˜¯æœ€å¯èƒ½çš„åŸå› ï¼ï¼‰
   - æ£€æŸ¥ `site` ç›®å½•å¤§å°
   - å¦‚æœè¶…è¿‡ 1GBï¼Œéœ€è¦ä¼˜åŒ–æ–‡ä»¶å¤§å°æˆ–ä½¿ç”¨å…¶ä»–éƒ¨ç½²æ–¹æ¡ˆ

2. âœ… **æ£€æŸ¥ Pages æºè®¾ç½®**
   - è®¿é—®ä»“åº“è®¾ç½®é¡µé¢
   - ç¡®ä¿ Source = `GitHub Actions`

3. âœ… **é‡æ–°è§¦å‘å·¥ä½œæµ**
   - æ‰‹åŠ¨è§¦å‘æˆ–æ¨é€åˆ° main åˆ†æ”¯

4. âœ… **ç­‰å¾…éƒ¨ç½²å®Œæˆ**
   - é¦–æ¬¡éƒ¨ç½²å¯èƒ½éœ€è¦ 10-15 åˆ†é’Ÿ
   - æŸ¥çœ‹ Actions æ ‡ç­¾é¡µçš„å®æ—¶æ—¥å¿—

5. âœ… **éªŒè¯éƒ¨ç½²ç»“æœ**
   - è®¿é—®ï¼š`https://wlxklyh.github.io/ufbook/`
   - æ£€æŸ¥ç½‘ç«™æ˜¯å¦æ­£å¸¸æ˜¾ç¤º

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [GitHub Pages é…ç½®è¯´æ˜](./GITHUB_PAGES_CONFIG.md)
- [GitHub Pages éƒ¨ç½²æŒ‡å—](./GITHUB_PAGES_DEPLOY.md)
- [GitHub Actions å®˜æ–¹æ–‡æ¡£](https://docs.github.com/en/actions)
- [GitHub Pages å®˜æ–¹æ–‡æ¡£](https://docs.github.com/en/pages)

---

**æœ€åæ›´æ–°**: 2025-01-13

