<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Unreal Fest Shanghai 2025 所有演讲内容的文字总结版本"><meta name=author content="UF Book Team"><link href=https://wlxklyh.site/ecosystem/horde-framework/ rel=canonical><link href=../metaverse-cloud-gaming/ rel=prev><link href=../education-summit-keynote/ rel=next><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Horde 技术框架深度解析：Epic Games 的 CICD 实战之道 - UF2025 虚幻引擎嘉年华演讲总结</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Sans+SC:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Noto Sans SC";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/stylesheets/ads-custom.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><!-- 百度统计 --><!-- Google Analytics 4 --></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#horde-epic-games-cicd class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../.. title="UF2025 虚幻引擎嘉年华演讲总结" class="md-header__button md-logo" aria-label="UF2025 虚幻引擎嘉年华演讲总结" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> UF2025 虚幻引擎嘉年华演讲总结 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Horde 技术框架深度解析：Epic Games 的 CICD 实战之道 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label=切换到深色模式 type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title=切换到深色模式 for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label=切换到浅色模式 type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title=切换到浅色模式 for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/wlxklyh/ufbook title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ufbook </div> </a> </div> </nav> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> 首页 </a> </li> <li class=md-tabs__item> <a href=../../engine-features/ue5.7-preview/ class=md-tabs__link> 引擎功能 </a> </li> <li class=md-tabs__item> <a href=../../performance/frame-hitches-hunting/ class=md-tabs__link> 性能优化 </a> </li> <li class=md-tabs__item> <a href=../../rendering/wuthering-waves-raytracing/ class=md-tabs__link> 渲染技术 </a> </li> <li class=md-tabs__item> <a href=../../mobile/ue5.6-mobile-updates/ class=md-tabs__link> 移动开发 </a> </li> <li class=md-tabs__item> <a href=../../pcg/dungeon-generation/ class=md-tabs__link> 程序化生成 </a> </li> <li class=md-tabs__item> <a href=../../animation-physics/panel-cloth/ class=md-tabs__link> 动画与物理 </a> </li> <li class=md-tabs__item> <a href=../../tools/debugging-tools/ class=md-tabs__link> 开发工具 </a> </li> <li class=md-tabs__item> <a href=../../project-cases/marvel-rivals-gas/ class=md-tabs__link> 项目实战 </a> </li> <li class=md-tabs__item> <a href=../../industry/digital-twin-ai/ class=md-tabs__link> 行业应用 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../keynote/ class=md-tabs__link> 引擎生态 </a> </li> <li class=md-tabs__item> <a href=../../appendix/faq/ class=md-tabs__link> 附录 </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="UF2025 虚幻引擎嘉年华演讲总结" class="md-nav__button md-logo" aria-label="UF2025 虚幻引擎嘉年华演讲总结" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg> </a> UF2025 虚幻引擎嘉年华演讲总结 </label> <div class=md-nav__source> <a href=https://github.com/wlxklyh/ufbook title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ufbook </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> 首页 </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> 引擎功能 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 引擎功能 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../engine-features/ue5.7-preview/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎5.7新特性全解析：从Substrate材质系统到构建工具链的全面升级 </span> </a> </li> <li class=md-nav__item> <a href=../../engine-features/ue5.6-features/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎5.6性能革命：从60FPS目标到全流程优化的技术实践 </span> </a> </li> <li class=md-nav__item> <a href=../../engine-features/smoke-simulation/ class=md-nav__link> <span class=md-ellipsis> UE5 烟雾模拟深度解析：从 Stable Fluids 到实时体积渲染 </span> </a> </li> <li class=md-nav__item> <a href=../../engine-features/smart-digital-cockpit/ class=md-nav__link> <span class=md-ellipsis> Unreal Engine 5 在车载 HMI 的工程实践：smart 精灵5号 3D 数字座舱技术解析 </span> </a> </li> <li class=md-nav__item> <a href=../../engine-features/ue5-hmi-roadmap/ class=md-nav__link> <span class=md-ellipsis> UE5车载HMI开发实战：从架构设计到生产落地的完整路线图 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> 性能优化 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> 性能优化 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../performance/frame-hitches-hunting/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎5帧卡顿排查实战：从性能分析到问题解决的系统化方法 </span> </a> </li> <li class=md-nav__item> <a href=../../performance/cross-platform-optimization/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎5跨平台游戏优化实战：从Nanite到内存管理的完整解决方案 </span> </a> </li> <li class=md-nav__item> <a href=../../performance/snapdragon-profiler/ class=md-nav__link> <span class=md-ellipsis> 深度剖析 Snapdragon Profiler：移动游戏性能与功耗优化实战指南 </span> </a> </li> <li class=md-nav__item> <a href=../../performance/locke-kingdom-mobile-pipeline/ class=md-nav__link> <span class=md-ellipsis> 移动端渲染管线优化实战：《洛克王国：世界》的技术突破之路 </span> </a> </li> <li class=md-nav__item> <a href=../../performance/ue5-object-pool/ class=md-nav__link> <span class=md-ellipsis> UE5对象池架构实战：从内存预分配到异步创建的完整优化方案 </span> </a> </li> <li class=md-nav__item> <a href=../../performance/multiplatform-asset-update/ class=md-nav__link> <span class=md-ellipsis> UE引擎多平台资源热更新系统：从架构设计到生产实践 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> 渲染技术 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 渲染技术 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../rendering/wuthering-waves-raytracing/ class=md-nav__link> <span class=md-ellipsis> 开放世界二次元游戏的光追实战：从技术选型到性能极致优化 </span> </a> </li> <li class=md-nav__item> <a href=../../rendering/delta-force-gi/ class=md-nav__link> <span class=md-ellipsis> 《三角洲行动》全局光照技术深度剖析：从理论到实践的跨平台GI方案 </span> </a> </li> <li class=md-nav__item> <a href=../../rendering/pixel-optimization/ class=md-nav__link> <span class=md-ellipsis> UE5像素级渲染优化：从分辨率适配到细节密度平衡的实战方法论 </span> </a> </li> <li class=md-nav__item> <a href=../../rendering/ml-graphics-framework/ class=md-nav__link> <span class=md-ellipsis> Arm Mali GPU 神经加速架构：移动端机器学习图形技术的突破性进展 </span> </a> </li> <li class=md-nav__item> <a href=../../rendering/destiny-trigger-lighting/ class=md-nav__link> <span class=md-ellipsis> 《命运扳机》大世界渲染技术深度解析：全局光照与阴影系统的工程实践 </span> </a> </li> <li class=md-nav__item> <a href=../../rendering/scene-art-ue5/ class=md-nav__link> <span class=md-ellipsis> UE5场景美术风格化实践：从传统渲染到多风格程序化生成 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> 移动开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> 移动开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../mobile/ue5.6-mobile-updates/ class=md-nav__link> <span class=md-ellipsis> UE5.6 移动端开发革命：从编辑器预览到渲染管线的全链路优化 </span> </a> </li> <li class=md-nav__item> <a href=../../mobile/qualcomm-frame-interpolation/ class=md-nav__link> <span class=md-ellipsis> 移动游戏性能革命：高通插帧技术深度解析与实战落地 </span> </a> </li> <li class=md-nav__item> <a href=../../mobile/mobile-optimization-workshop/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎移动端性能优化实战：从渲染管线到性能调试的完整指南 </span> </a> </li> <li class=md-nav__item> <a href=../../mobile/qualcomm-ue-collaboration/ class=md-nav__link> <span class=md-ellipsis> 高通骁龙与虚幻引擎的产业协同：从校园实习到移动游戏生态 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> 程序化生成 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> 程序化生成 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../pcg/dungeon-generation/ class=md-nav__link> <span class=md-ellipsis> PCG 地牢生成系统：从样条线分割到模块化组装的完整实践 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> 动画与物理 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> 动画与物理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../animation-physics/panel-cloth/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎 5 PanelCloth 布料系统深度解析：从原理到生产实践 </span> </a> </li> <li class=md-nav__item> <a href=../../animation-physics/cloth-animation-workflow/ class=md-nav__link> <span class=md-ellipsis> Marvelous Designer 布料动画解算工作流：从建模到虚幻引擎的完整实践 </span> </a> </li> <li class=md-nav__item> <a href=../../animation-physics/realtime-cloth-nni/ class=md-nav__link> <span class=md-ellipsis> Unreal Engine 5 神经网络驱动的实时布料系统：突破传统物理模拟的性能瓶颈 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> 开发工具 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> 开发工具 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tools/debugging-tools/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎调试工具深度剖析：从PrintString到专业调试体系 </span> </a> </li> <li class=md-nav__item> <a href=../../tools/project-prototyping/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎项目技术预研：从团队协作到系统架构的最佳实践 </span> </a> </li> <li class=md-nav__item> <a href=../../tools/world-building-tips/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎5世界构建效率革命：81个实战技巧全解析 </span> </a> </li> <li class=md-nav__item> <a href=../../tools/rider-teamcity/ class=md-nav__link> <span class=md-ellipsis> AI 时代的虚幻引擎开发效率革命：深度解析 Rider 与 TeamCity 的协同开发实践 </span> </a> </li> <li class=md-nav__item> <a href=../../tools/ai-prototyping/ class=md-nav__link> <span class=md-ellipsis> AI驱动的UE游戏原型开发全流程：从创意到可玩Demo的认知驱动型工作流 </span> </a> </li> <li class=md-nav__item> <a href=../../tools/ue-quickstart-developers/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎5开发者进阶之路：从零构建完整游戏系统的实战指南 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> 项目实战 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> 项目实战 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../project-cases/marvel-rivals-gas/ class=md-nav__link> <span class=md-ellipsis> 《漫威争锋》战斗系统架构实战：从GAS框架到客户端预测的完整落地方案 </span> </a> </li> <li class=md-nav__item> <a href=../../project-cases/cf-rainbow/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎5程序化生态管线深度解析：《穿越火线-虹》的技术革新之路 </span> </a> </li> <li class=md-nav__item> <a href=../../project-cases/one-piece-rd/ class=md-nav__link> <span class=md-ellipsis> ACT 游戏的工业化实践:《航海王》高频迭代的技术支撑体系 </span> </a> </li> <li class=md-nav__item> <a href=../../project-cases/5-years-game-breakthrough/ class=md-nav__link> <span class=md-ellipsis> 五年老游戏的引擎新生：UE4.25 深度改造与性能优化实战 </span> </a> </li> <li class=md-nav__item> <a href=../../project-cases/isekai-art-production/ class=md-nav__link> <span class=md-ellipsis> [UFSH2025]从《伊瑟》项目来谈谈中型美术团队如何制作大体量内容 | 朱正奕心动游戏《伊瑟》美术总监 </span> </a> </li> <li class=md-nav__item> <a href=../../project-cases/mulan2125-vfx/ class=md-nav__link> <span class=md-ellipsis> 实时渲染中的视效工业化实践：从角色交互到物理模拟的深度解析 </span> </a> </li> <li class=md-nav__item> <a href=../../project-cases/multisensory-ue-creation/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎驱动的交互式艺术空间：从软控制美学到多感官叙事实践 </span> </a> </li> <li class=md-nav__item> <a href=../../project-cases/digital-media-art/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎在数字媒体艺术中的实战应用：从虚拟拍摄到交互装置的完整工作流 </span> </a> </li> <li class=md-nav__item> <a href=../../project-cases/national-ceremony-performance/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎驱动国家盛典：大规模智能表演系统全链路技术架构解析 </span> </a> </li> <li class=md-nav__item> <a href=../../project-cases/metahuman-production/ class=md-nav__link> <span class=md-ellipsis> Metahuman production </span> </a> </li> <li class=md-nav__item> <a href=../../project-cases/metahuman-facial-muscles/ class=md-nav__link> <span class=md-ellipsis> 突破传统绑定瓶颈：基于 4D 扫描与机器学习的次世代面部肌肉系统 </span> </a> </li> <li class=md-nav__item> <a href=../../project-cases/rs-heritage/ class=md-nav__link> <span class=md-ellipsis> RealityCapture 在文化遗产数字化中的实战探索：从摄影测量到高保真三维重建 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_10> <label class=md-nav__link for=__nav_10 id=__nav_10_label tabindex=0> <span class=md-ellipsis> 行业应用 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> 行业应用 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../industry/digital-twin-ai/ class=md-nav__link> <span class=md-ellipsis> SpaceForm数字孪生平台：从BIM到城市级智能孪生的工程实践 </span> </a> </li> <li class=md-nav__item> <a href=../../industry/51world-spatial-intelligence/ class=md-nav__link> <span class=md-ellipsis> 空间智能的技术路径与落地实践：51WORLD Clonova 平台深度解析 </span> </a> </li> <li class=md-nav__item> <a href=../../industry/aec-project-review/ class=md-nav__link> <span class=md-ellipsis> AEC项目技术攻坚实录：从帆船模拟器到数字孪生城市的工程实践 </span> </a> </li> <li class=md-nav__item> <a href=../../industry/automotive-summit-keynote/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎汽车行业 2025 深度解析：从可视化到 HMI 的全栈布局 </span> </a> </li> <li class=md-nav__item> <a href=../../industry/automotive-visualization/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎5.6汽车可视化技术深度解析：从照片级真实感到生产力工具链 </span> </a> </li> <li class=md-nav__item> <a href=../../industry/zeekr-009-design/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎赋能车载HMI：领克009多屏渲染架构深度解析 </span> </a> </li> <li class=md-nav__item> <a href=../../industry/adas-scene-reconstruction/ class=md-nav__link> <span class=md-ellipsis> 3D Gaussian Splatting 赋能智驾仿真：从场景重建到端到端训练的技术全景 </span> </a> </li> <li class=md-nav__item> <a href=../../industry/smart-05-cockpit/ class=md-nav__link> <span class=md-ellipsis> UE5驱动的汽车HMI革命：Smart精灵5号3D座舱技术深度解析 </span> </a> </li> <li class=md-nav__item> <a href=../../industry/3d-hmi-operations/ class=md-nav__link> <span class=md-ellipsis> 智能座舱3D HMI深度解析：从量产交付到持续运营的技术演进之路 </span> </a> </li> <li class=md-nav__item> <a href=../../industry/hmi-experience-design/ class=md-nav__link> <span class=md-ellipsis> 体验思维驱动：车载 HMI 3D 交互的工程化实践 </span> </a> </li> <li class=md-nav__item> <a href=../../industry/ue-3d-industry/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎5：打破传统CG壁垒的实时渲染革命 </span> </a> </li> <li class=md-nav__item> <a href=../../industry/automotive-gaussian-ai/ class=md-nav__link> <span class=md-ellipsis> 汽车营销内容革命：Unreal Engine 与高斯点云、生成式 AI 的深度融合实践 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11 checked> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex> <span class=md-ellipsis> 引擎生态 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=true> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> 引擎生态 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../keynote/ class=md-nav__link> <span class=md-ellipsis> [UFSH2025]主旨演讲(官方字幕) </span> </a> </li> <li class=md-nav__item> <a href=../incremental-processing/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎增量迭代革命：Zen 架构如何重塑主机与移动端内容管线 </span> </a> </li> <li class=md-nav__item> <a href=../epic-games-store-2025/ class=md-nav__link> <span class=md-ellipsis> Epic Games Store 2025：开发者优先战略的全面进化 </span> </a> </li> <li class=md-nav__item> <a href=../metaverse-cloud-gaming/ class=md-nav__link> <span class=md-ellipsis> 云端游戏驱动的元宇宙平台：Xsolla Metasites 技术架构与实践 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Horde 技术框架深度解析：Epic Games 的 CICD 实战之道 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Horde 技术框架深度解析：Epic Games 的 CICD 实战之道 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ue5 class=md-nav__link> <span class=md-ellipsis> 加入 UE5 技术交流群 </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 导读 </span> </a> </li> <li class=md-nav__item> <a href=#-horde class=md-nav__link> <span class=md-ellipsis> 第一部分：背景与痛点 - 为什么需要 Horde？ </span> </a> <nav class=md-nav aria-label="第一部分：背景与痛点 - 为什么需要 Horde？"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 游戏开发中的构建困境 </span> </a> </li> <li class=md-nav__item> <a href=#cicd class=md-nav__link> <span class=md-ellipsis> CICD 的核心价值 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#horde class=md-nav__link> <span class=md-ellipsis> 第二部分：Horde 核心架构解析 </span> </a> <nav class=md-nav aria-label="第二部分：Horde 核心架构解析"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#horde_1 class=md-nav__link> <span class=md-ellipsis> Horde 的定位与特性 </span> </a> </li> <li class=md-nav__item> <a href=#global-stream class=md-nav__link> <span class=md-ellipsis> 架构层级：从 Global 到 Stream </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#-horde_1 class=md-nav__link> <span class=md-ellipsis> 第三部分：快速上手 - 从零搭建 Horde 环境 </span> </a> <nav class=md-nav aria-label="第三部分：快速上手 - 从零搭建 Horde 环境"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#horde-server class=md-nav__link> <span class=md-ellipsis> 安装 Horde Server </span> </a> </li> <li class=md-nav__item> <a href=#lyra class=md-nav__link> <span class=md-ellipsis> 配置第一个项目：以 Lyra 为例 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#agent- class=md-nav__link> <span class=md-ellipsis> 第四部分：Agent 管理 - 分布式构建的基石 </span> </a> <nav class=md-nav aria-label="第四部分：Agent 管理 - 分布式构建的基石"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#agent class=md-nav__link> <span class=md-ellipsis> Agent 的角色与工作机制 </span> </a> </li> <li class=md-nav__item> <a href=#agent_1 class=md-nav__link> <span class=md-ellipsis> 安装和注册 Agent </span> </a> </li> <li class=md-nav__item> <a href=#pool class=md-nav__link> <span class=md-ellipsis> Pool 机制：任务与资源的匹配 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 第一次成功的构建 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#buildgraph-horde class=md-nav__link> <span class=md-ellipsis> 第五部分：深入 BuildGraph - Horde 的任务引擎 </span> </a> <nav class=md-nav aria-label="第五部分：深入 BuildGraph - Horde 的任务引擎"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#buildgraph-horde_1 class=md-nav__link> <span class=md-ellipsis> BuildGraph 与 Horde 的关系 </span> </a> </li> <li class=md-nav__item> <a href=#job-ui class=md-nav__link> <span class=md-ellipsis> Job 参数的 UI 映射 </span> </a> </li> <li class=md-nav__item> <a href=#template-editor class=md-nav__link> <span class=md-ellipsis> 实用工具：Template Editor </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#- class=md-nav__link> <span class=md-ellipsis> 第六部分：自动化测试 - 从编译到设备验证 </span> </a> <nav class=md-nav aria-label="第六部分：自动化测试 - 从编译到设备验证"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 打包与测试的完整流程 </span> </a> </li> <li class=md-nav__item> <a href=#windows-service-vs-user-mode class=md-nav__link> <span class=md-ellipsis> Windows Service vs User Mode </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pre-flight- class=md-nav__link> <span class=md-ellipsis> 第七部分：Pre-flight 机制 - 代码合入前的最后防线 </span> </a> <nav class=md-nav aria-label="第七部分：Pre-flight 机制 - 代码合入前的最后防线"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> "在我机器上能跑"问题的终结者 </span> </a> </li> <li class=md-nav__item> <a href=#p4v class=md-nav__link> <span class=md-ellipsis> 配置 P4V 扩展 </span> </a> </li> <li class=md-nav__item> <a href=#pre-flight class=md-nav__link> <span class=md-ellipsis> 使用 Pre-flight 提交代码 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#-nightly-builds class=md-nav__link> <span class=md-ellipsis> 第八部分：调度策略 - 自动化触发与 Nightly Builds </span> </a> <nav class=md-nav aria-label="第八部分：调度策略 - 自动化触发与 Nightly Builds"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#schedule class=md-nav__link> <span class=md-ellipsis> Schedule 配置详解 </span> </a> </li> <li class=md-nav__item> <a href=#schedule_1 class=md-nav__link> <span class=md-ellipsis> 监控 Schedule 状态 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ugs- class=md-nav__link> <span class=md-ellipsis> 第九部分：UGS 集成 - 为团队提供统一的代码同步体验 </span> </a> <nav class=md-nav aria-label="第九部分：UGS 集成 - 为团队提供统一的代码同步体验"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ugs class=md-nav__link> <span class=md-ellipsis> UGS 的价值主张 </span> </a> </li> <li class=md-nav__item> <a href=#ugs_1 class=md-nav__link> <span class=md-ellipsis> 快速部署 UGS </span> </a> </li> <li class=md-nav__item> <a href=#ugs-metadata class=md-nav__link> <span class=md-ellipsis> 配置 UGS Metadata </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 全局消息通知 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#-_1 class=md-nav__link> <span class=md-ellipsis> 第十部分：预编译二进制 - 让美术和策划告别编译 </span> </a> <nav class=md-nav aria-label="第十部分：预编译二进制 - 让美术和策划告别编译"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 问题背景 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 启用预编译二进制下载 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#-pc class=md-nav__link> <span class=md-ellipsis> 第十一部分：跨平台测试 - 从 PC 到移动设备的自动化 </span> </a> <nav class=md-nav aria-label="第十一部分：跨平台测试 - 从 PC 到移动设备的自动化"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#device-dashboard class=md-nav__link> <span class=md-ellipsis> 设备管理：Device Dashboard </span> </a> </li> <li class=md-nav__item> <a href=#android class=md-nav__link> <span class=md-ellipsis> 配置 Android 设备测试 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#blueprint-ta class=md-nav__link> <span class=md-ellipsis> 第十二部分：Blueprint 测试 - 让 TA 也能写自动化测试 </span> </a> <nav class=md-nav aria-label="第十二部分：Blueprint 测试 - 让 TA 也能写自动化测试"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#functional-test class=md-nav__link> <span class=md-ellipsis> Functional Test 插件 </span> </a> </li> <li class=md-nav__item> <a href=#horde_2 class=md-nav__link> <span class=md-ellipsis> 在 Horde 中查看测试结果 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#-docker class=md-nav__link> <span class=md-ellipsis> 第十三部分：高级主题 - Docker 部署与配置管理 </span> </a> <nav class=md-nav aria-label="第十三部分：高级主题 - Docker 部署与配置管理"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#docker class=md-nav__link> <span class=md-ellipsis> 为什么选择 Docker？ </span> </a> </li> <li class=md-nav__item> <a href=#horde-docker class=md-nav__link> <span class=md-ellipsis> 构建 Horde Docker 镜像 </span> </a> </li> <li class=md-nav__item> <a href=#docker-compose class=md-nav__link> <span class=md-ellipsis> 使用 Docker Compose 部署 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 配置文件的版本控制 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 第十四部分：开发者体验优化 </span> </a> <nav class=md-nav aria-label=第十四部分：开发者体验优化> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-schema class=md-nav__link> <span class=md-ellipsis> JSON Schema 智能提示 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 用户权限与认证 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 第十五部分：扩展与集成 </span> </a> <nav class=md-nav aria-label=第十五部分：扩展与集成> <ul class=md-nav__list> <li class=md-nav__item> <a href=#http-api class=md-nav__link> <span class=md-ellipsis> HTTP API：自动化的无限可能 </span> </a> </li> <li class=md-nav__item> <a href=#slack class=md-nav__link> <span class=md-ellipsis> Slack 集成 </span> </a> </li> <li class=md-nav__item> <a href=#uba-zen-server class=md-nav__link> <span class=md-ellipsis> UBA 与 Zen Server：编译加速的未来 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#studio-telemetry-devops class=md-nav__link> <span class=md-ellipsis> 第十六部分：Studio Telemetry - 数据驱动的 DevOps 决策 </span> </a> <nav class=md-nav aria-label="第十六部分：Studio Telemetry - 数据驱动的 DevOps 决策"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 为什么需要遥测数据？ </span> </a> </li> <li class=md-nav__item> <a href=#telemetry class=md-nav__link> <span class=md-ellipsis> 配置 Telemetry </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 第十七部分：实战总结与最佳实践 </span> </a> <nav class=md-nav aria-label=第十七部分：实战总结与最佳实践> <ul class=md-nav__list> <li class=md-nav__item> <a href=#horde-vs-cicd class=md-nav__link> <span class=md-ellipsis> 方案对比：Horde vs 传统 CICD </span> </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 避坑指南 </span> </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 最佳实践清单 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 结语 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../education-summit-keynote/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎教育生态的战略布局：从本土化到全球影响力 </span> </a> </li> <li class=md-nav__item> <a href=../game-education-history/ class=md-nav__link> <span class=md-ellipsis> 中国游戏教育二十年：从边缘到主流的破冰之路 </span> </a> </li> <li class=md-nav__item> <a href=../bfa-teaching-innovation/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎赋能影视教育：北京电影学院美术学院的沉浸式创作实践深度解析 </span> </a> </li> <li class=md-nav__item> <a href=../ue-asia-education/ class=md-nav__link> <span class=md-ellipsis> 虚幻引擎赋能亚洲教育：从文化传承到技术创新的实践之路 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12> <label class=md-nav__link for=__nav_12 id=__nav_12_label tabindex=0> <span class=md-ellipsis> 附录 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_12_label aria-expanded=false> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> 附录 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../appendix/faq/ class=md-nav__link> <span class=md-ellipsis> 常见问题 FAQ </span> </a> </li> <li class=md-nav__item> <a href=../../appendix/resources/ class=md-nav__link> <span class=md-ellipsis> UE5技术资源汇总 </span> </a> </li> <li class=md-nav__item> <a href=../../appendix/join-community/ class=md-nav__link> <span class=md-ellipsis> 加入UE5技术交流群 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ue5 class=md-nav__link> <span class=md-ellipsis> 加入 UE5 技术交流群 </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 导读 </span> </a> </li> <li class=md-nav__item> <a href=#-horde class=md-nav__link> <span class=md-ellipsis> 第一部分：背景与痛点 - 为什么需要 Horde？ </span> </a> <nav class=md-nav aria-label="第一部分：背景与痛点 - 为什么需要 Horde？"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 游戏开发中的构建困境 </span> </a> </li> <li class=md-nav__item> <a href=#cicd class=md-nav__link> <span class=md-ellipsis> CICD 的核心价值 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#horde class=md-nav__link> <span class=md-ellipsis> 第二部分：Horde 核心架构解析 </span> </a> <nav class=md-nav aria-label="第二部分：Horde 核心架构解析"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#horde_1 class=md-nav__link> <span class=md-ellipsis> Horde 的定位与特性 </span> </a> </li> <li class=md-nav__item> <a href=#global-stream class=md-nav__link> <span class=md-ellipsis> 架构层级：从 Global 到 Stream </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#-horde_1 class=md-nav__link> <span class=md-ellipsis> 第三部分：快速上手 - 从零搭建 Horde 环境 </span> </a> <nav class=md-nav aria-label="第三部分：快速上手 - 从零搭建 Horde 环境"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#horde-server class=md-nav__link> <span class=md-ellipsis> 安装 Horde Server </span> </a> </li> <li class=md-nav__item> <a href=#lyra class=md-nav__link> <span class=md-ellipsis> 配置第一个项目：以 Lyra 为例 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#agent- class=md-nav__link> <span class=md-ellipsis> 第四部分：Agent 管理 - 分布式构建的基石 </span> </a> <nav class=md-nav aria-label="第四部分：Agent 管理 - 分布式构建的基石"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#agent class=md-nav__link> <span class=md-ellipsis> Agent 的角色与工作机制 </span> </a> </li> <li class=md-nav__item> <a href=#agent_1 class=md-nav__link> <span class=md-ellipsis> 安装和注册 Agent </span> </a> </li> <li class=md-nav__item> <a href=#pool class=md-nav__link> <span class=md-ellipsis> Pool 机制：任务与资源的匹配 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 第一次成功的构建 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#buildgraph-horde class=md-nav__link> <span class=md-ellipsis> 第五部分：深入 BuildGraph - Horde 的任务引擎 </span> </a> <nav class=md-nav aria-label="第五部分：深入 BuildGraph - Horde 的任务引擎"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#buildgraph-horde_1 class=md-nav__link> <span class=md-ellipsis> BuildGraph 与 Horde 的关系 </span> </a> </li> <li class=md-nav__item> <a href=#job-ui class=md-nav__link> <span class=md-ellipsis> Job 参数的 UI 映射 </span> </a> </li> <li class=md-nav__item> <a href=#template-editor class=md-nav__link> <span class=md-ellipsis> 实用工具：Template Editor </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#- class=md-nav__link> <span class=md-ellipsis> 第六部分：自动化测试 - 从编译到设备验证 </span> </a> <nav class=md-nav aria-label="第六部分：自动化测试 - 从编译到设备验证"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 打包与测试的完整流程 </span> </a> </li> <li class=md-nav__item> <a href=#windows-service-vs-user-mode class=md-nav__link> <span class=md-ellipsis> Windows Service vs User Mode </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pre-flight- class=md-nav__link> <span class=md-ellipsis> 第七部分：Pre-flight 机制 - 代码合入前的最后防线 </span> </a> <nav class=md-nav aria-label="第七部分：Pre-flight 机制 - 代码合入前的最后防线"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> "在我机器上能跑"问题的终结者 </span> </a> </li> <li class=md-nav__item> <a href=#p4v class=md-nav__link> <span class=md-ellipsis> 配置 P4V 扩展 </span> </a> </li> <li class=md-nav__item> <a href=#pre-flight class=md-nav__link> <span class=md-ellipsis> 使用 Pre-flight 提交代码 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#-nightly-builds class=md-nav__link> <span class=md-ellipsis> 第八部分：调度策略 - 自动化触发与 Nightly Builds </span> </a> <nav class=md-nav aria-label="第八部分：调度策略 - 自动化触发与 Nightly Builds"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#schedule class=md-nav__link> <span class=md-ellipsis> Schedule 配置详解 </span> </a> </li> <li class=md-nav__item> <a href=#schedule_1 class=md-nav__link> <span class=md-ellipsis> 监控 Schedule 状态 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ugs- class=md-nav__link> <span class=md-ellipsis> 第九部分：UGS 集成 - 为团队提供统一的代码同步体验 </span> </a> <nav class=md-nav aria-label="第九部分：UGS 集成 - 为团队提供统一的代码同步体验"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ugs class=md-nav__link> <span class=md-ellipsis> UGS 的价值主张 </span> </a> </li> <li class=md-nav__item> <a href=#ugs_1 class=md-nav__link> <span class=md-ellipsis> 快速部署 UGS </span> </a> </li> <li class=md-nav__item> <a href=#ugs-metadata class=md-nav__link> <span class=md-ellipsis> 配置 UGS Metadata </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 全局消息通知 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#-_1 class=md-nav__link> <span class=md-ellipsis> 第十部分：预编译二进制 - 让美术和策划告别编译 </span> </a> <nav class=md-nav aria-label="第十部分：预编译二进制 - 让美术和策划告别编译"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 问题背景 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 启用预编译二进制下载 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#-pc class=md-nav__link> <span class=md-ellipsis> 第十一部分：跨平台测试 - 从 PC 到移动设备的自动化 </span> </a> <nav class=md-nav aria-label="第十一部分：跨平台测试 - 从 PC 到移动设备的自动化"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#device-dashboard class=md-nav__link> <span class=md-ellipsis> 设备管理：Device Dashboard </span> </a> </li> <li class=md-nav__item> <a href=#android class=md-nav__link> <span class=md-ellipsis> 配置 Android 设备测试 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#blueprint-ta class=md-nav__link> <span class=md-ellipsis> 第十二部分：Blueprint 测试 - 让 TA 也能写自动化测试 </span> </a> <nav class=md-nav aria-label="第十二部分：Blueprint 测试 - 让 TA 也能写自动化测试"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#functional-test class=md-nav__link> <span class=md-ellipsis> Functional Test 插件 </span> </a> </li> <li class=md-nav__item> <a href=#horde_2 class=md-nav__link> <span class=md-ellipsis> 在 Horde 中查看测试结果 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#-docker class=md-nav__link> <span class=md-ellipsis> 第十三部分：高级主题 - Docker 部署与配置管理 </span> </a> <nav class=md-nav aria-label="第十三部分：高级主题 - Docker 部署与配置管理"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#docker class=md-nav__link> <span class=md-ellipsis> 为什么选择 Docker？ </span> </a> </li> <li class=md-nav__item> <a href=#horde-docker class=md-nav__link> <span class=md-ellipsis> 构建 Horde Docker 镜像 </span> </a> </li> <li class=md-nav__item> <a href=#docker-compose class=md-nav__link> <span class=md-ellipsis> 使用 Docker Compose 部署 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 配置文件的版本控制 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 第十四部分：开发者体验优化 </span> </a> <nav class=md-nav aria-label=第十四部分：开发者体验优化> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-schema class=md-nav__link> <span class=md-ellipsis> JSON Schema 智能提示 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 用户权限与认证 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 第十五部分：扩展与集成 </span> </a> <nav class=md-nav aria-label=第十五部分：扩展与集成> <ul class=md-nav__list> <li class=md-nav__item> <a href=#http-api class=md-nav__link> <span class=md-ellipsis> HTTP API：自动化的无限可能 </span> </a> </li> <li class=md-nav__item> <a href=#slack class=md-nav__link> <span class=md-ellipsis> Slack 集成 </span> </a> </li> <li class=md-nav__item> <a href=#uba-zen-server class=md-nav__link> <span class=md-ellipsis> UBA 与 Zen Server：编译加速的未来 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#studio-telemetry-devops class=md-nav__link> <span class=md-ellipsis> 第十六部分：Studio Telemetry - 数据驱动的 DevOps 决策 </span> </a> <nav class=md-nav aria-label="第十六部分：Studio Telemetry - 数据驱动的 DevOps 决策"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 为什么需要遥测数据？ </span> </a> </li> <li class=md-nav__item> <a href=#telemetry class=md-nav__link> <span class=md-ellipsis> 配置 Telemetry </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 第十七部分：实战总结与最佳实践 </span> </a> <nav class=md-nav aria-label=第十七部分：实战总结与最佳实践> <ul class=md-nav__list> <li class=md-nav__item> <a href=#horde-vs-cicd class=md-nav__link> <span class=md-ellipsis> 方案对比：Horde vs 传统 CICD </span> </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 避坑指南 </span> </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 最佳实践清单 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 结语 </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=导航栏> <ol class=md-path__list> <li class=md-path__item> <a href=../.. class=md-path__link> <span class=md-ellipsis> 首页 </span> </a> </li> <li class=md-path__item> <a href=../keynote/ class=md-path__link> <span class=md-ellipsis> 引擎生态 </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <!-- 顶部广告位 --> <a href=https://github.com/wlxklyh/ufbook/edit/main/docs/ecosystem/horde-framework.md title=编辑此页 class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg> </a> <a href=https://github.com/wlxklyh/ufbook/raw/main/docs/ecosystem/horde-framework.md title=查看本页的源代码 class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"/></svg> </a> <h1 id=horde-epic-games-cicd>Horde 技术框架深度解析：Epic Games 的 CICD 实战之道<a class=headerlink href=#horde-epic-games-cicd title="Permanent link">&para;</a></h1> <hr> <p><img alt="UE5 技术交流群" src=UE5_Contact.png></p> <h2 id=ue5>加入 UE5 技术交流群<a class=headerlink href=#ue5 title="Permanent link">&para;</a></h2> <p>如果您对虚幻引擎5的图形渲染技术感兴趣，欢迎加入我们的 <strong>UE5 技术交流群</strong>！</p> <p>扫描上方二维码添加个人微信 <strong>wlxklyh</strong>，备注"UE5技术交流"，我会拉您进群。</p> <p>在技术交流群中，您可以： - 与其他UE开发者交流渲染技术经验 - 获取最新的GDC技术分享和解读 - 讨论图形编程、性能优化、构建工具流、动画系统等话题 - 分享引擎架构、基建工具等项目经验和技术难题</p> <hr> <p><strong>源视频信息</strong>：[UFSH2025]Horde技术框架入门 | Jack Condon Epic Games 开发者关系资深工程师<br> <strong>视频链接</strong>：https://www.bilibili.com/video/BV1F3UEBBETR<br> <strong>视频时长</strong>：43分45秒<br> <strong>内容说明</strong>：本文由 AI 基于视频内容生成，结合截图与字幕进行深度技术解析</p> <hr> <h2 id=_1>导读<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <blockquote> <p><strong>核心观点一</strong>：Horde 不仅仅是一个 CICD 系统，它是 Epic Games 为 Unreal Engine 生态量身打造的模块化开发基础设施平台。</p> <p><strong>核心观点二</strong>：与传统 CICD 工具（Jenkins、TeamCity）不同，Horde 深度集成 BuildGraph 和 Perforce，将构建逻辑与调度系统解耦，实现更灵活的分布式编译与测试。</p> <p><strong>核心观点三</strong>：通过 Horde + UGS + Gauntlet 的组合拳，可以构建从代码提交到多平台自动化测试的完整 DevOps 闭环。</p> </blockquote> <p><strong>前置知识要求</strong>： - 熟悉 Unreal Engine 项目结构 - 了解基本的 CICD 概念 - 有 Perforce 或 Git 版本控制经验 - 理解 BuildGraph 脚本系统（推荐但非必需）</p> <hr> <h2 id=-horde>第一部分：背景与痛点 - 为什么需要 Horde？<a class=headerlink href=#-horde title="Permanent link">&para;</a></h2> <h3 id=_2>游戏开发中的构建困境<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <p>在大型 Unreal Engine 项目开发中，团队常常面临以下痛点：</p> <p><img alt="Screenshot 1" src=Screenshots/016_plus0.0s.png></p> <p><strong>测试不足导致的设备兼容性问题</strong>：开发阶段缺乏对目标平台的充分测试，导致打包后才发现性能或兼容性问题。这在移动端和主机平台尤为突出。</p> <p><img alt="Screenshot 2" src=Screenshots/019_plus0.0s.png></p> <p><strong>代码冲突与构建破坏</strong>：当多人协作时，未经验证的代码提交可能破坏主干构建，影响整个团队的开发进度。传统的"在我机器上能跑"问题在这里尤为常见。</p> <p><strong>引擎编译的时间黑洞</strong>：团队成员各自编译引擎源码，不仅浪费大量 CPU 资源，还导致环境不一致。一个中型团队每天可能浪费数十小时在重复编译上。</p> <p><img alt="Screenshot 3" src=Screenshots/025_plus0.0s.png></p> <p><strong>QA 测试周期过长</strong>：手动测试流程繁琐，覆盖率低，无法在每次提交后快速验证功能完整性。</p> <h3 id=cicd>CICD 的核心价值<a class=headerlink href=#cicd title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 4" src=Screenshots/027_plus0.0s.png></p> <p><strong>持续集成（Continuous Integration）</strong> 的本质是：每次代码推送时，自动触发构建和测试流程，及早发现问题。</p> <p><img alt="Screenshot 5" src=Screenshots/030_plus0.0s.png></p> <p><strong>持续交付/部署（Continuous Delivery/Deployment）</strong> 则进一步将构建产物自动部署到 QA 环境、预发布环境甚至生产环境。</p> <p><img alt="Screenshot 6" src=Screenshots/031_plus0.0s.png></p> <p>这种自动化流程的核心优势在于： - <strong>快速反馈</strong>：从提交到发现问题的时间从数小时缩短到数分钟 - <strong>环境一致性</strong>：所有构建在标准化的 Agent 机器上执行 - <strong>资源优化</strong>：集中式编译避免重复劳动 - <strong>质量保障</strong>：强制执行测试门禁，提升代码质量</p> <hr> <h2 id=horde>第二部分：Horde 核心架构解析<a class=headerlink href=#horde title="Permanent link">&para;</a></h2> <h3 id=horde_1>Horde 的定位与特性<a class=headerlink href=#horde_1 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 7" src=Screenshots/039_plus0.0s.png></p> <p>Horde 是 Epic Games 内部用于支持 Fortnite、Unreal Engine 等项目的服务集合。它的核心特点是：</p> <p><strong>为 Unreal Engine 深度优化</strong>：</p> <p><img alt="Screenshot 8" src=Screenshots/050_plus0.0s.png></p> <ul> <li>工作空间结构与 Epic 的项目组织方式一致</li> <li>原生集成 UAT（Unreal Automation Tool）、Gauntlet 测试框架、UGS（Unreal Game Sync）</li> <li>提供开箱即用的构建模板，大幅降低配置成本</li> </ul> <p><img alt="Screenshot 9" src=Screenshots/056_plus0.0s.png></p> <p><strong>模块化设计</strong>：Horde 的功能是可插拔的，你可以只使用其中的某些模块，例如： - 仅作为 UBA（Unreal Build Accelerator）的远程编译协调器 - 仅用于管理预编译二进制文件（Precompiled Binaries） - 作为完整的 CICD 平台</p> <p><img alt="Screenshot 10" src=Screenshots/061_plus0.0s.png></p> <p><strong>经过实战检验</strong>：Horde 不仅服务于 Fortnite 这样的超大规模项目，还支持 Unreal Engine 本身的开发，甚至 Epic Games Store（Fab）也依赖它。这意味着它在高并发、大规模团队场景下的稳定性已得到充分验证。</p> <p><img alt="Screenshot 11" src=Screenshots/066_plus0.0s.png></p> <p><strong>深度绑定 Perforce 和 BuildGraph</strong>：这是 Horde 的双刃剑。如果你的团队已经在使用这两个工具，Horde 的集成会非常顺滑；但如果你使用 Git 或其他构建系统，则需要额外的适配工作。</p> <h3 id=global-stream>架构层级：从 Global 到 Stream<a class=headerlink href=#global-stream title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 12" src=Screenshots/071_plus0.0s.png></p> <p>Horde 的配置采用分层设计，这与典型的企业项目组织结构高度契合：</p> <p><img alt="Screenshot 13" src=Screenshots/114_plus0.0s.png></p> <p><strong>配置文件层级关系</strong>：</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>Global.json (全局配置)
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    ├── Project.json (项目配置)
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    │       ├── Stream.json (流配置)
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    │       │       ├── Job Templates (作业模板)
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    │       │       └── Parameters (参数定义)
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    │       └── Stream.json (另一个流)
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    └── Project.json (另一个项目)
</span></code></pre></div> <p>这种设计的优势在于： - <strong>权限分离</strong>：全局配置由 DevOps 团队管理，Stream 配置可以授权给各开发分支的负责人 - <strong>配置复用</strong>：通用设置在上层定义，下层继承并覆盖 - <strong>版本控制</strong>：配置文件可以存储在 Perforce 中，与代码同步演进</p> <p><img alt="Screenshot 14" src=Screenshots/118_plus0.0s.png></p> <p><strong>组织结构映射</strong>： - <strong>公司级别</strong>：一个 Perforce 服务器，对应一个 Global 配置 - <strong>项目级别</strong>：多个游戏项目（如 ProjectA、ProjectB），每个对应一个 Project 配置 - <strong>分支级别</strong>：每个项目的 Main、Dev、Release 分支，对应不同的 Stream 配置</p> <hr> <h2 id=-horde_1>第三部分：快速上手 - 从零搭建 Horde 环境<a class=headerlink href=#-horde_1 title="Permanent link">&para;</a></h2> <h3 id=horde-server>安装 Horde Server<a class=headerlink href=#horde-server title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 15" src=Screenshots/094_plus0.0s.png></p> <p><strong>Windows 平台快速部署</strong>：</p> <p><img alt="Screenshot 16" src=Screenshots/095_plus0.0s.png></p> <p>最简单的方式是从 GitHub Releases 下载 MSI 安装包：</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>https://github.com/EpicGames/UnrealEngine/releases
</span></code></pre></div> <p><img alt="Screenshot 17" src=Screenshots/097_plus0.0s.png></p> <p>选择与你的 Unreal Engine 版本匹配的 Horde 版本（例如 5.5.4），下载 <code>Horde-Server-{version}.msi</code>。</p> <p><img alt="Screenshot 18" src=Screenshots/099_plus0.0s.png></p> <p>安装完成后，Horde 会自动启动一个本地 Web 服务（默认端口 13340），你可以通过浏览器访问 <code>http://localhost:13340</code>。</p> <p><img alt="Screenshot 19" src=Screenshots/102_plus0.0s.png></p> <p><strong>首次启动的欢迎页面</strong>：</p> <p><img alt="Screenshot 20" src=Screenshots/103_plus0.0s.png></p> <p>安装后的欢迎页面提供了详细的文档链接，包括配置指南、API 文档等。这些文档会随着 Horde 版本更新而同步，确保你看到的是最新的信息。</p> <p><img alt="Screenshot 21" src=Screenshots/104_plus0.0s.png></p> <p><strong>版本信息查询</strong>：在 Horde Dashboard 的设置页面可以查看当前安装的确切版本号，这对于后续排查问题非常重要。</p> <h3 id=lyra>配置第一个项目：以 Lyra 为例<a class=headerlink href=#lyra title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 22" src=Screenshots/110_plus0.0s.png></p> <p>Horde 的配置主要通过 JSON 文件完成。虽然文件数量较多，但逻辑清晰。</p> <p><strong>步骤 1：在 Global 配置中注册项目</strong></p> <p><img alt="Screenshot 23" src=Screenshots/124_plus0.0s.png></p> <p>编辑 <code>Global.json</code>，在 <code>BuildPlugin</code> 部分添加项目引用：</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=p>{</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>  </span><span class=nt>&quot;plugins&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>    </span><span class=nt>&quot;build&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>      </span><span class=nt>&quot;projects&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>        </span><span class=p>{</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>          </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;lyra&quot;</span><span class=p>,</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>          </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Lyra Sample Game&quot;</span><span class=p>,</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>          </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;projects/lyra.project.json&quot;</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=w>      </span><span class=p>]</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=p>}</span>
</span></code></pre></div> <p><img alt="Screenshot 24" src=Screenshots/136_plus0.0s.png></p> <p>这里的 <code>path</code> 是相对于 <code>Global.json</code> 的路径。Horde 提供了大量示例配置，你可以直接复制 <code>ue.project.json</code> 并重命名为 <code>lyra.project.json</code>。</p> <p><img alt="Screenshot 25" src=Screenshots/146_plus0.0s.png></p> <p><strong>步骤 2：定义 Project 配置</strong></p> <p><code>lyra.project.json</code> 的主要职责是声明该项目包含哪些 Stream（分支）：</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=p>{</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>  </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;lyra&quot;</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>  </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Lyra&quot;</span><span class=p>,</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>  </span><span class=nt>&quot;streams&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>      </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;lyra-main&quot;</span><span class=p>,</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>      </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Main&quot;</span><span class=p>,</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>      </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;streams/lyra-main.stream.json&quot;</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=w>  </span><span class=nt>&quot;logo&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/images/lyra-logo.png&quot;</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=p>}</span>
</span></code></pre></div> <p><img alt="Screenshot 26" src=Screenshots/151_plus0.0s.png></p> <p><strong>步骤 3：配置 Stream 和 Job Templates</strong></p> <p><img alt="Screenshot 27" src=Screenshots/167_plus0.0s.png></p> <p><code>lyra-main.stream.json</code> 是最核心的配置文件，它定义了该分支可以执行哪些构建任务（Job）。</p> <p><img alt="Screenshot 28" src=Screenshots/172_plus0.0s.png></p> <p>Horde 预置了丰富的 Job 模板，涵盖常见场景：</p> <p><img alt="Screenshot 29" src=Screenshots/174_plus0.0s.png></p> <p><strong>预置的 Job 类别</strong>：</p> <p><img alt="Screenshot 30" src=Screenshots/177_plus0.0s.png></p> <ul> <li><strong>增量构建（Incremental Builds）</strong>：为 UGS 用户生成预编译二进制文件</li> <li><strong>打包与测试（Package &amp; Test）</strong>：支持多平台打包并自动运行测试</li> </ul> <p><img alt="Screenshot 31" src=Screenshots/180_plus0.0s.png></p> <ul> <li><strong>预提交测试（Pre-submit Tests）</strong>：在代码合入前运行验证，通过后自动提交</li> </ul> <p><img alt="Screenshot 32" src=Screenshots/181_plus0.0s.png></p> <ul> <li><strong>独立引擎构建（Standalone Engine Builds）</strong>：为不使用 UGS 的团队提供完整引擎编译</li> </ul> <p><img alt="Screenshot 33" src=Screenshots/186_plus0.0s.png></p> <ul> <li><strong>实用工具示例（Utility Demos）</strong>：展示如何自定义 UI 和参数</li> </ul> <hr> <h2 id=agent->第四部分：Agent 管理 - 分布式构建的基石<a class=headerlink href=#agent- title="Permanent link">&para;</a></h2> <h3 id=agent>Agent 的角色与工作机制<a class=headerlink href=#agent title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 34" src=Screenshots/189_plus0.0s.png></p> <p>当你在 Horde Dashboard 中触发一个 Job 时，可能会看到"等待 Agent"的状态。</p> <p><img alt="Screenshot 35" src=Screenshots/190_plus0.0s.png></p> <p><strong>Agent 是什么？</strong></p> <p><img alt="Screenshot 36" src=Screenshots/191_plus0.0s.png></p> <p>Agent 是运行在物理机或虚拟机上的工作进程，负责执行 Horde 分配的构建任务。它的核心特性包括：</p> <p><img alt="Screenshot 37" src=Screenshots/193_plus0.0s.png></p> <ul> <li><strong>主动连接</strong>：Agent 主动连接 Horde Server，而非 Server 推送任务</li> <li><strong>状态监控</strong>：Horde 实时监控 Agent 的 CPU、内存、磁盘使用情况</li> </ul> <p><img alt="Screenshot 38" src=Screenshots/195_plus0.0s.png></p> <ul> <li><strong>任务分配</strong>：基于 Pool（资源池）和 Agent 属性进行智能调度</li> </ul> <p><img alt="Screenshot 39" src=Screenshots/197_plus0.0s.png></p> <p>例如，一个需要 Windows + UE5 环境的任务，只会分配给标记为 <code>Win-UE5</code> Pool 的 Agent。</p> <h3 id=agent_1>安装和注册 Agent<a class=headerlink href=#agent_1 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 40" src=Screenshots/198_plus0.0s.png></p> <p><strong>下载 Agent 安装包</strong>：</p> <p><img alt="Screenshot 41" src=Screenshots/200_plus0.0s.png></p> <p>在 Horde Dashboard 的 Downloads 页面，可以找到针对不同平台的 Agent 安装包。</p> <p><img alt="Screenshot 42" src=Screenshots/203_plus0.0s.png></p> <p>对于 Windows，直接下载 MSI 安装包并运行。</p> <p><img alt="Screenshot 43" src=Screenshots/204_plus0.0s.png></p> <p><strong>Agent 注册流程（Enrollment）</strong>：</p> <p>安装完成后，Agent 会自动弹出注册请求窗口。这是一个安全机制，确保只有经过授权的机器才能加入 Horde 集群。</p> <p>在 Horde Dashboard 的 <strong>Agent Enrollment</strong> 页面，你会看到待批准的 Agent 请求，点击批准即可完成握手。</p> <p><img alt="Screenshot 44" src=Screenshots/211_plus0.0s.png></p> <p><strong>Agent 信息面板</strong>：</p> <p><img alt="Screenshot 45" src=Screenshots/212_plus0.0s.png></p> <p>注册成功后，你可以在 Agent 列表中看到： - <strong>状态（Status）</strong>：Idle（空闲）、Working（工作中）、Offline（离线） - <strong>当前任务</strong>：如果正在执行任务，会显示 Job 链接</p> <p><img alt="Screenshot 46" src=Screenshots/215_plus0.0s.png></p> <ul> <li><strong>磁盘空间</strong>：防止因磁盘满导致构建失败</li> </ul> <p><img alt="Screenshot 47" src=Screenshots/216_plus0.0s.png></p> <ul> <li><strong>所属 Pool</strong>：决定该 Agent 可以接收哪些类型的任务</li> </ul> <p><img alt="Screenshot 48" src=Screenshots/218_plus0.0s.png></p> <h3 id=pool>Pool 机制：任务与资源的匹配<a class=headerlink href=#pool title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 49" src=Screenshots/219_plus0.0s.png></p> <p><strong>Pool 的设计哲学</strong>：</p> <p>Pool 本质上是一种标签系统，用于描述 Agent 的能力。例如：</p> <p><img alt="Screenshot 50" src=Screenshots/220_plus0.0s.png></p> <ul> <li><code>Win-UE5</code>：Windows 平台，安装了 UE5 开发环境</li> <li><code>Mac-UE5</code>：macOS 平台，可用于 iOS/Mac 构建</li> </ul> <p><img alt="Screenshot 51" src=Screenshots/221_plus0.0s.png></p> <ul> <li><code>Win-UE5-GPU</code>：Windows + 独立显卡，用于运行图形测试</li> </ul> <p><img alt="Screenshot 52" src=Screenshots/222_plus0.0s.png></p> <p><strong>自动分配规则</strong>：</p> <p><img alt="Screenshot 53" src=Screenshots/223_plus0.0s.png></p> <p>在 <code>Global.json</code> 中可以定义 Pool 的自动分配条件：</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=p>{</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>  </span><span class=nt>&quot;compute&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>    </span><span class=nt>&quot;pools&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>        </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;win-ue5&quot;</span><span class=p>,</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>        </span><span class=nt>&quot;condition&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;OSFamily == &#39;Windows&#39; &amp;&amp; HasUE5 == true&quot;</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>    </span><span class=p>]</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=p>}</span>
</span></code></pre></div> <p><img alt="Screenshot 54" src=Screenshots/225_plus0.0s.png></p> <p><strong>实用技巧</strong>：运行 <code>HordeAgent.exe --ListProperties</code> 可以查看当前机器的所有可用属性，这对于编写 Pool 规则非常有帮助。</p> <h3 id=_3>第一次成功的构建<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 55" src=Screenshots/228_plus0.0s.png></p> <p>当 Agent 准备就绪后，重新触发之前等待的 Job：</p> <p><img alt="Screenshot 56" src=Screenshots/229_plus0.0s.png></p> <p>Horde 会自动找到匹配的 Agent 并开始执行。</p> <p><img alt="Screenshot 57" src=Screenshots/230_plus0.0s.png></p> <p><strong>任务分配逻辑</strong>：</p> <p><img alt="Screenshot 58" src=Screenshots/232_plus0.0s.png></p> <p>Job 模板中定义的 <code>pool</code> 参数（如 <code>Win-UE5</code>）与 Agent 的 Pool 标签匹配，Horde 会优先选择空闲且符合条件的 Agent。</p> <p><img alt="Screenshot 59" src=Screenshots/233_plus0.0s.png></p> <p><strong>构建成功的标志</strong>：</p> <p><img alt="Screenshot 60" src=Screenshots/236_plus0.0s.png></p> <p>构建完成后，你可以在 Job 详情页看到：</p> <p><img alt="Screenshot 61" src=Screenshots/237_plus0.0s.png></p> <ul> <li><strong>生成的 Artifacts</strong>：可下载的构建产物（如 .zip 包）</li> </ul> <p><img alt="Screenshot 62" src=Screenshots/238_plus0.0s.png></p> <ul> <li><strong>日志输出</strong>：详细的编译和打包日志</li> <li><strong>执行时间</strong>：每个步骤的耗时统计</li> </ul> <hr> <h2 id=buildgraph-horde>第五部分：深入 BuildGraph - Horde 的任务引擎<a class=headerlink href=#buildgraph-horde title="Permanent link">&para;</a></h2> <h3 id=buildgraph-horde_1>BuildGraph 与 Horde 的关系<a class=headerlink href=#buildgraph-horde_1 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 63" src=Screenshots/248_plus0.0s.png></p> <p><strong>关键认知</strong>：Horde 本身并不执行构建逻辑，它只是调度器。真正的构建工作由 <strong>BuildGraph</strong> 完成。</p> <p><img alt="Screenshot 64" src=Screenshots/252_plus0.0s.png></p> <p><strong>Job 的本质</strong>：</p> <p><img alt="Screenshot 65" src=Screenshots/253_plus0.0s.png></p> <p>一个 Horde Job 实际上是对 BuildGraph 的一次调用，包含：</p> <p><img alt="Screenshot 66" src=Screenshots/254_plus0.0s.png></p> <ul> <li><strong>Script 路径</strong>：指向 <code>.xml</code> 格式的 BuildGraph 脚本</li> <li><strong>Target 名称</strong>：要执行的具体 Node（节点）</li> </ul> <p><img alt="Screenshot 67" src=Screenshots/257_plus0.0s.png></p> <ul> <li><strong>参数传递</strong>：从 Horde UI 收集的用户输入，转化为 BuildGraph 的命令行参数</li> </ul> <p><img alt="Screenshot 68" src=Screenshots/258_plus0.0s.png></p> <p><strong>引擎自带的强大脚本</strong>：</p> <p>UE5 在 <code>Engine/Build/Graph/</code> 目录下提供了 <code>BuildAndTestProject.xml</code>，这是一个功能完备的构建脚本，支持： - 多平台编译（Windows、Mac、Linux、Android、iOS、Console） - 自动化测试（Editor Tests、Packaged Tests、Gauntlet） - 增量构建优化 - DDC（Derived Data Cache）管理</p> <p>大多数团队可以直接使用这个脚本，无需从零编写 BuildGraph。</p> <h3 id=job-ui>Job 参数的 UI 映射<a class=headerlink href=#job-ui title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 69" src=Screenshots/274_plus0.0s.png></p> <p><strong>用户看到的界面</strong>：</p> <p>当你在 Horde Dashboard 中启动一个 Job 时，会看到一系列可配置的选项（如平台、配置、是否运行测试等）。</p> <p><img alt="Screenshot 70" src=Screenshots/276_plus0.0s.png></p> <p><strong>背后的配置</strong>：</p> <p>这些选项在 <code>Stream.json</code> 的 <code>parameters</code> 字段中定义：</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=p>{</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>  </span><span class=nt>&quot;templates&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>      </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;package-build&quot;</span><span class=p>,</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>      </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Package Build&quot;</span><span class=p>,</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>      </span><span class=nt>&quot;parameters&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=w>        </span><span class=p>{</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=w>          </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Platform&quot;</span><span class=p>,</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=w>          </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;List&quot;</span><span class=p>,</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=w>          </span><span class=nt>&quot;options&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;Win64&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;Android&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;iOS&quot;</span><span class=p>],</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=w>          </span><span class=nt>&quot;default&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Win64&quot;</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=w>        </span><span class=p>},</span>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=w>        </span><span class=p>{</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a><span class=w>          </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Configuration&quot;</span><span class=p>,</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a><span class=w>          </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;List&quot;</span><span class=p>,</span>
</span><span id=__span-5-16><a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a><span class=w>          </span><span class=nt>&quot;options&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;Development&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;Shipping&quot;</span><span class=p>],</span>
</span><span id=__span-5-17><a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a><span class=w>          </span><span class=nt>&quot;default&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Development&quot;</span>
</span><span id=__span-5-18><a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-5-19><a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a><span class=w>      </span><span class=p>]</span>
</span><span id=__span-5-20><a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-5-21><a id=__codelineno-5-21 name=__codelineno-5-21 href=#__codelineno-5-21></a><span class=w>  </span><span class=p>]</span>
</span><span id=__span-5-22><a id=__codelineno-5-22 name=__codelineno-5-22 href=#__codelineno-5-22></a><span class=p>}</span>
</span></code></pre></div> <p><img alt="Screenshot 71" src=Screenshots/278_plus0.0s.png></p> <p><strong>参数类型支持</strong>：</p> <p><img alt="Screenshot 72" src=Screenshots/279_plus0.0s.png></p> <ul> <li><strong>List</strong>：下拉选择框</li> </ul> <p><img alt="Screenshot 73" src=Screenshots/280_plus0.0s.png></p> <ul> <li><strong>Bool</strong>：复选框</li> <li><strong>Text</strong>：文本输入框</li> <li><strong>Tag</strong>：用于 BuildGraph 的 <code>-set</code> 参数</li> </ul> <p><img alt="Screenshot 74" src=Screenshots/281_plus0.0s.png></p> <p>这些参数最终会转化为 BuildGraph 的命令行参数，例如：</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>RunUAT.bat<span class=w> </span>BuildGraph<span class=w> </span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>  </span>-Script<span class=o>=</span>BuildAndTestProject.xml<span class=w> </span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>  </span>-Target<span class=o>=</span>PackageAndTest<span class=w> </span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>  </span>-set:Platform<span class=o>=</span>Android<span class=w> </span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>  </span>-set:Configuration<span class=o>=</span>Shipping
</span></code></pre></div> <h3 id=template-editor>实用工具：Template Editor<a class=headerlink href=#template-editor title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 75" src=Screenshots/283_plus0.0s.png></p> <p><strong>可视化编辑器</strong>：</p> <p><img alt="Screenshot 76" src=Screenshots/284_plus0.0s.png></p> <p>Horde 提供了一个在线的 Template Editor，可以实时预览 JSON 配置对应的 UI 效果。</p> <p><img alt="Screenshot 77" src=Screenshots/285_plus0.0s.png></p> <p>使用流程： 1. 在 Horde Dashboard 的 Utilities 页面找到 Template Editor 2. 粘贴你的 Job 模板 JSON</p> <p><img alt="Screenshot 78" src=Screenshots/286_plus0.0s.png></p> <ol> <li>实时查看 UI 渲染结果</li> <li>调整满意后，复制回 <code>Stream.json</code></li> </ol> <p><img alt="Screenshot 79" src=Screenshots/287_plus0.0s.png></p> <p>虽然不是完全的所见即所得编辑器，但对于快速迭代 UI 布局非常有用。</p> <hr> <h2 id=->第六部分：自动化测试 - 从编译到设备验证<a class=headerlink href=#- title="Permanent link">&para;</a></h2> <h3 id=_4>打包与测试的完整流程<a class=headerlink href=#_4 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 80" src=Screenshots/293_plus0.0s.png></p> <p><strong>触发一个完整的测试 Job</strong>：</p> <p><img alt="Screenshot 81" src=Screenshots/294_plus0.0s.png></p> <p>选择 "Package and Test" 模板，配置目标平台后启动。你会看到 Job 被拆分为多个 Step： 1. <strong>Compile Editor</strong>：编译编辑器版本 2. <strong>Cook Content</strong>：烘焙资源 3. <strong>Package Build</strong>：打包目标平台 4. <strong>Run Editor Tests</strong>：在编辑器中运行测试 5. <strong>Run Packaged Tests</strong>：在打包后的 Build 中运行测试</p> <p><img alt="Screenshot 82" src=Screenshots/296_plus0.0s.png></p> <p><strong>Agent Pool 的分层使用</strong>：</p> <p><img alt="Screenshot 83" src=Screenshots/297_plus0.0s.png></p> <p>注意到测试步骤需要 <code>Win-UE5-GPU</code> Pool。这是因为运行图形测试需要独立显卡，而编译步骤只需要 <code>Win-UE5</code> Pool。</p> <p><img alt="Screenshot 84" src=Screenshots/300_plus0.0s.png></p> <h3 id=windows-service-vs-user-mode>Windows Service vs User Mode<a class=headerlink href=#windows-service-vs-user-mode title="Permanent link">&para;</a></h3> <p><strong>Agent 的两种运行模式</strong>：</p> <p><img alt="Screenshot 85" src=Screenshots/300_plus0.0s.png></p> <ul> <li><strong>Windows Service 模式</strong>：后台运行，开机自启，但无法启动 GUI 应用（如 UE Editor）</li> <li><strong>User Mode</strong>：在用户登录后运行，可以启动 Editor 和打包后的游戏</li> </ul> <p><img alt="Screenshot 86" src=Screenshots/307_plus0.0s.png></p> <p><strong>切换到 User Mode</strong>：</p> <p>如果你需要运行 Editor Tests 或 Packaged Tests，必须： 1. 停止 Horde Agent Service 2. 以当前用户身份运行 <code>HordeAgent.exe</code></p> <p><img alt="Screenshot 87" src=Screenshots/308_plus0.0s.png></p> <p><strong>Editor Tests vs Packaged Tests</strong>：</p> <p><img alt="Screenshot 88" src=Screenshots/309_plus0.0s.png></p> <ul> <li><strong>Editor Tests</strong>：在 UnrealEditor.exe 中运行，速度快，适合快速验证逻辑</li> </ul> <p><img alt="Screenshot 89" src=Screenshots/310_plus0.0s.png></p> <ul> <li><strong>Packaged Tests</strong>：在打包后的 .exe 中运行，更接近真实环境，能发现 Shipping 配置特有的问题</li> </ul> <p><img alt="Screenshot 90" src=Screenshots/312_plus0.0s.png></p> <p><strong>自动化测试的实际运行</strong>：</p> <p><img alt="Screenshot 91" src=Screenshots/313_plus0.0s.png></p> <p>当测试开始时，你会看到 Editor 或游戏自动启动，执行预定义的测试用例，然后自动关闭。整个过程无需人工干预。</p> <p><img alt="Screenshot 92" src=Screenshots/314_plus0.0s.png></p> <p>测试完成后，Horde 会收集测试报告，并在 Dashboard 中展示通过/失败的用例。</p> <hr> <h2 id=pre-flight->第七部分：Pre-flight 机制 - 代码合入前的最后防线<a class=headerlink href=#pre-flight- title="Permanent link">&para;</a></h2> <h3 id=_5>"在我机器上能跑"问题的终结者<a class=headerlink href=#_5 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 93" src=Screenshots/319_plus0.0s.png></p> <p><strong>经典场景</strong>：开发者在本地测试通过后提交代码，结果破坏了主干构建，导致整个团队无法工作。</p> <p><img alt="Screenshot 94" src=Screenshots/322_plus0.0s.png></p> <p><strong>Pre-flight 的核心思想</strong>：在代码真正合入主干之前，先在 Horde 上运行一遍完整的构建和测试流程。只有通过后，才允许提交。</p> <p><img alt="Screenshot 95" src=Screenshots/327_plus0.0s.png></p> <h3 id=p4v>配置 P4V 扩展<a class=headerlink href=#p4v title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 96" src=Screenshots/332_plus0.0s.png></p> <p><strong>下载 P4V Extension</strong>：</p> <p><img alt="Screenshot 97" src=Screenshots/333_plus0.0s.png></p> <p>在 Horde Dashboard 的 Downloads 页面，找到 "Perforce Extensions" 下载包。</p> <p><img alt="Screenshot 98" src=Screenshots/334_plus0.0s.png></p> <p><strong>安装步骤</strong>：</p> <ol> <li>解压下载的 .zip 文件</li> <li>运行 <code>Install.bat</code>，这会向 P4V 注册自定义菜单</li> </ol> <p><img alt="Screenshot 99" src=Screenshots/336_plus0.0s.png></p> <ol> <li>编辑 <code>HordeExtension.ini</code>，填入 Horde Server 的 URL：</li> </ol> <div class="language-ini highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=k>[Horde]</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=na>ServerUrl</span><span class=o>=</span><span class=s>http://your-horde-server:13340</span>
</span></code></pre></div> <p><img alt="Screenshot 100" src=Screenshots/337_plus0.0s.png></p> <p>这个扩展不仅支持 Pre-flight，还提供了很多便捷功能（如快速查看 Job 状态、同步到特定 CL 等）。</p> <h3 id=pre-flight>使用 Pre-flight 提交代码<a class=headerlink href=#pre-flight title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 101" src=Screenshots/341_plus0.0s.png></p> <p><strong>在 P4V 中触发 Pre-flight</strong>：</p> <p><img alt="Screenshot 102" src=Screenshots/342_plus0.0s.png></p> <ol> <li>右键点击你的 Pending Changelist</li> </ol> <p><img alt="Screenshot 103" src=Screenshots/343_plus0.0s.png></p> <ol> <li>选择 "Horde -&gt; Pre-flight and Submit"</li> </ol> <p><img alt="Screenshot 104" src=Screenshots/344_plus0.0s.png></p> <ol> <li>P4V 会自动打开 Horde Dashboard，并预填好 Shelved CL 编号</li> </ol> <p><img alt="Screenshot 105" src=Screenshots/344_plus0.0s.png></p> <ol> <li>勾选 "Auto-submit if successful"，然后启动 Job</li> </ol> <p><img alt="Screenshot 106" src=Screenshots/344_plus0.0s.png></p> <p><strong>工作流程</strong>：</p> <p><img alt="Screenshot 107" src=Screenshots/344_plus0.0s.png></p> <ul> <li>Horde 会从 Perforce 拉取你的 Shelved 变更</li> <li>在干净的 Agent 环境中应用这些变更</li> <li>运行预定义的测试（编译、单元测试、打包等）</li> <li>如果全部通过，自动执行 <code>p4 submit</code></li> <li>如果失败，保留 Shelved CL，你可以修复后重试</li> </ul> <p><img alt="Screenshot 108" src=Screenshots/351_plus0.0s.png></p> <p><strong>适用于任何 Job</strong>：</p> <p><img alt="Screenshot 109" src=Screenshots/352_plus0.0s.png></p> <p>实际上，Horde 的每个 Job 模板都支持 "Shelved CL" 和 "Auto-submit" 选项。你甚至可以在 Pre-flight 中运行完整的打包和设备测试，确保代码在所有目标平台上都能正常工作。</p> <p><img alt="Screenshot 110" src=Screenshots/354_plus0.0s.png></p> <p><strong>P4V Extension 的本质</strong>：</p> <p><img alt="Screenshot 111" src=Screenshots/355_plus0.0s.png></p> <p>这个扩展只是一个便捷的启动器，它的作用是自动填充 Horde Web 页面的表单。即使不安装扩展，你也可以手动在 Horde Dashboard 中输入 Shelved CL 编号来触发 Pre-flight。</p> <hr> <h2 id=-nightly-builds>第八部分：调度策略 - 自动化触发与 Nightly Builds<a class=headerlink href=#-nightly-builds title="Permanent link">&para;</a></h2> <h3 id=schedule>Schedule 配置详解<a class=headerlink href=#schedule title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 112" src=Screenshots/357_plus0.0s.png></p> <p><strong>问题场景</strong>：每次提交代码后都要手动触发 Job 吗？能否在每晚自动运行完整的测试套件？</p> <p><img alt="Screenshot 113" src=Screenshots/358_plus0.0s.png></p> <p><strong>答案是 Schedule 机制</strong>：</p> <p><img alt="Screenshot 114" src=Screenshots/359_plus0.0s.png></p> <p>在 <code>Stream.json</code> 的 Job 模板中，可以配置 <code>schedule</code> 字段，定义自动触发条件。</p> <p><img alt="Screenshot 115" src=Screenshots/362_plus0.0s.png></p> <p><strong>Schedule 配置示例</strong>：</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=p>{</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>  </span><span class=nt>&quot;templates&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=w>      </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;incremental-build&quot;</span><span class=p>,</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>      </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Incremental Build&quot;</span><span class=p>,</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>      </span><span class=nt>&quot;schedule&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=w>        </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=w>        </span><span class=nt>&quot;maxActive&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>2</span><span class=p>,</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=w>        </span><span class=nt>&quot;maxChanges&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=p>,</span>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=w>        </span><span class=nt>&quot;requireSubmittedChange&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=w>        </span><span class=nt>&quot;filter&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;*.cpp&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;*.h&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;*.cs&quot;</span><span class=p>],</span>
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=w>        </span><span class=nt>&quot;patterns&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a><span class=w>          </span><span class=p>{</span>
</span><span id=__span-8-14><a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=w>            </span><span class=nt>&quot;interval&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=p>,</span>
</span><span id=__span-8-15><a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=w>            </span><span class=nt>&quot;minTime&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;09:00&quot;</span><span class=p>,</span>
</span><span id=__span-8-16><a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a><span class=w>            </span><span class=nt>&quot;maxTime&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;18:00&quot;</span>
</span><span id=__span-8-17><a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a><span class=w>          </span><span class=p>}</span>
</span><span id=__span-8-18><a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a><span class=w>        </span><span class=p>]</span>
</span><span id=__span-8-19><a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-8-20><a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-8-21><a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a><span class=w>  </span><span class=p>]</span>
</span><span id=__span-8-22><a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a><span class=p>}</span>
</span></code></pre></div> <p><img alt="Screenshot 116" src=Screenshots/365_plus0.0s.png></p> <p><strong>参数解析</strong>：</p> <p><img alt="Screenshot 117" src=Screenshots/365_plus0.0s.png></p> <ul> <li><strong>enabled</strong>：总开关，方便调试时临时禁用</li> </ul> <p><img alt="Screenshot 118" src=Screenshots/365_plus0.0s.png></p> <ul> <li><strong>maxActive</strong>：同时运行的 Job 数量上限（防止资源耗尽）</li> </ul> <p><img alt="Screenshot 119" src=Screenshots/365_plus0.0s.png></p> <ul> <li><strong>maxChanges</strong>：允许 Schedule 落后主干的最大 CL 数量（避免积压过多）</li> </ul> <p><img alt="Screenshot 120" src=Screenshots/365_plus0.0s.png></p> <ul> <li><strong>requireSubmittedChange</strong>：只有在有新提交时才触发（避免空跑）</li> </ul> <p><img alt="Screenshot 121" src=Screenshots/370_plus0.0s.png></p> <ul> <li><strong>filter</strong>：文件过滤规则</li> </ul> <p><img alt="Screenshot 122" src=Screenshots/365_plus0.0s.png></p> <p>例如 <code>["*.cpp", "*.h"]</code> 表示只有 C++ 代码变更时才触发，美术资源变更不触发编译。</p> <p><img alt="Screenshot 123" src=Screenshots/372_plus0.0s.png></p> <ul> <li><strong>patterns</strong>：轮询策略</li> </ul> <p><img alt="Screenshot 124" src=Screenshots/373_plus0.0s.png></p> <p><code>interval: 5</code> 表示每 5 分钟检查一次 Perforce，<code>minTime/maxTime</code> 限制触发时间窗口（如工作时间）。</p> <h3 id=schedule_1>监控 Schedule 状态<a class=headerlink href=#schedule_1 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 125" src=Screenshots/374_plus0.0s.png></p> <p><strong>Dashboard 视图</strong>：</p> <p>在 Stream 的 Summary 页面，可以看到所有启用的 Schedule，包括上次触发时间、下次预计触发时间等。</p> <p><img alt="Screenshot 126" src=Screenshots/375_plus0.0s.png></p> <p><strong>日志查看</strong>：</p> <p>Horde Server 的日志中会记录每次轮询的详细信息，包括： - 检测到的新 CL - 是否满足 Filter 条件 - 为什么触发或跳过</p> <p><img alt="Screenshot 127" src=Screenshots/376_plus0.0s.png></p> <p>这对于调试 Schedule 规则非常有用。更多高级配置（如 Cron 表达式、依赖触发等）可以参考官方文档。</p> <hr> <h2 id=ugs->第九部分：UGS 集成 - 为团队提供统一的代码同步体验<a class=headerlink href=#ugs- title="Permanent link">&para;</a></h2> <h3 id=ugs>UGS 的价值主张<a class=headerlink href=#ugs title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 128" src=Screenshots/377_plus0.0s.png></p> <p><strong>什么是 Unreal Game Sync（UGS）？</strong></p> <p><img alt="Screenshot 129" src=Screenshots/380_plus0.0s.png></p> <p>UGS 是 Epic 开发的 Perforce 前端工具，专为 Unreal Engine 项目优化。它的核心优势包括：</p> <p><img alt="Screenshot 130" src=Screenshots/381_plus0.0s.png></p> <ul> <li><strong>智能过滤同步</strong>：只同步当前平台需要的文件（如 Windows 开发者不同步 Mac 二进制）</li> <li><strong>自动引擎编译</strong>：检测到引擎代码变更时，自动触发本地编译</li> </ul> <p><img alt="Screenshot 131" src=Screenshots/382_plus0.0s.png></p> <ul> <li><strong>引擎与项目锁步</strong>：确保引擎版本与项目代码始终匹配</li> <li><strong>元数据展示</strong>：在 CL 列表中显示构建状态、测试结果等信息</li> </ul> <p><img alt="Screenshot 132" src=Screenshots/383_plus0.0s.png></p> <ul> <li><strong>预编译二进制下载</strong>：无需本地编译引擎，直接下载 Horde 构建的二进制文件</li> </ul> <p><img alt="Screenshot 133" src=Screenshots/384_plus0.0s.png></p> <p><strong>历史痛点</strong>：</p> <p>过去，UGS 需要单独搭建 Metadata Server（通常是 SQL Server），配置复杂。现在，Horde 原生支持 UGS Metadata，一行配置即可搞定。</p> <h3 id=ugs_1>快速部署 UGS<a class=headerlink href=#ugs_1 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 134" src=Screenshots/386_plus0.0s.png></p> <p><strong>步骤 1：配置 Perforce 地址</strong></p> <p><img alt="Screenshot 135" src=Screenshots/389_plus0.0s.png></p> <p>在 <code>Global.json</code> 中添加 Perforce 服务器信息：</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=p>{</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=w>  </span><span class=nt>&quot;perforce&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=w>    </span><span class=nt>&quot;servers&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=w>        </span><span class=nt>&quot;serverAndPort&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;perforce.company.com:1666&quot;</span><span class=p>,</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>        </span><span class=nt>&quot;userName&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;build-user&quot;</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=w>    </span><span class=p>]</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=p>}</span>
</span></code></pre></div> <p>这样，团队成员安装 UGS 时，服务器地址会自动填充。</p> <p><img alt="Screenshot 136" src=Screenshots/390_plus0.0s.png></p> <p><strong>步骤 2：下载并安装 UGS</strong></p> <p><img alt="Screenshot 137" src=Screenshots/391_plus0.0s.png></p> <p>在 Horde Dashboard 的 Downloads 页面，下载 <code>UnrealGameSync-{version}.msi</code>。</p> <p><img alt="Screenshot 138" src=Screenshots/392_plus0.0s.png></p> <p>安装时，只需输入 Horde Server 的 URL，其他配置会自动从服务器拉取。</p> <p><img alt="Screenshot 139" src=Screenshots/393_plus0.0s.png></p> <p><strong>步骤 3：打开项目</strong></p> <p><img alt="Screenshot 140" src=Screenshots/394_plus0.0s.png></p> <p>UGS 的"项目"概念是 <strong>Stream + UProject 文件</strong> 的组合。</p> <p><img alt="Screenshot 141" src=Screenshots/395_plus0.0s.png></p> <p>选择你的 Perforce Stream（如 <code>//Lyra/Main</code>），然后选择 <code>LyraStarterGame.uproject</code>。</p> <p><img alt="Screenshot 142" src=Screenshots/396_plus0.0s.png></p> <p>UGS 会自动同步代码，并根据需要编译引擎。</p> <h3 id=ugs-metadata>配置 UGS Metadata<a class=headerlink href=#ugs-metadata title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 143" src=Screenshots/397_plus0.0s.png></p> <p><strong>Metadata 的作用</strong>：</p> <p><img alt="Screenshot 144" src=Screenshots/398_plus0.0s.png></p> <p>UGS 可以在每个 CL 旁边显示额外信息，例如： - 该 CL 的构建状态（成功/失败） - 测试覆盖率 - 性能基准测试结果 - 开发者备注</p> <p><img alt="Screenshot 145" src=Screenshots/399_plus0.0s.png></p> <p><strong>启用 Horde Metadata 服务</strong>：</p> <p><img alt="Screenshot 146" src=Screenshots/401_plus0.0s.png></p> <p>编辑引擎目录下的 <code>Engine/Programs/UnrealGameSync/UnrealGameSync.ini</code>：</p> <div class="language-ini highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=k>[Default]</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=na>MetadataServer</span><span class=o>=</span><span class=s>http://your-horde-server:13340</span>
</span></code></pre></div> <p><img alt="Screenshot 147" src=Screenshots/403_plus0.0s.png></p> <p>注意：这个文件应该提交到引擎的 Perforce Stream 中，而不是项目 Stream。这样所有使用该引擎的项目都能共享配置。</p> <p><img alt="Screenshot 148" src=Screenshots/404_plus0.0s.png></p> <p>配置完成后，重启 UGS，你会看到 CL 列表中出现构建状态图标。</p> <p><img alt="Screenshot 149" src=Screenshots/405_plus0.0s.png></p> <p><strong>对比传统方案</strong>：</p> <p><img alt="Screenshot 150" src=Screenshots/406_plus0.0s.png></p> <p>以前需要搭建独立的 SQL Server、配置数据库权限、编写同步脚本。现在只需一行配置，Horde 内置的 MongoDB 会自动处理所有数据存储。</p> <h3 id=_6>全局消息通知<a class=headerlink href=#_6 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 151" src=Screenshots/407_plus0.0s.png></p> <p><strong>场景需求</strong>：</p> <p><img alt="Screenshot 152" src=Screenshots/408_plus0.0s.png></p> <p>当项目进入 Feature Lock 阶段，或者主干构建被破坏时，需要通知所有开发者停止提交代码。</p> <p><img alt="Screenshot 153" src=Screenshots/409_plus0.0s.png></p> <p><strong>UGS 消息窗口</strong>：</p> <p><img alt="Screenshot 154" src=Screenshots/411_plus0.0s.png></p> <p>可以在 <code>UnrealGameSync.ini</code> 中配置全局消息：</p> <div class="language-ini highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=k>[Default]</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=na>MetadataServer</span><span class=o>=</span><span class=s>http://horde-server:13340</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=k>[Notifications]</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=na>Message</span><span class=o>=</span><span class=s>Feature Lock in effect! Please do not submit code until further notice.</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=na>MessageColor</span><span class=o>=</span><span class=s>Red</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=na>MessageLink</span><span class=o>=</span><span class=s>https://wiki.company.com/feature-lock-policy</span>
</span></code></pre></div> <p><img alt="Screenshot 155" src=Screenshots/412_plus0.0s.png></p> <p>也可以针对特定 Stream 配置消息。在项目的 <code>Build/UnrealGameSync.ini</code> 中：</p> <div class="language-ini highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=k>[//Lyra/Main]</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=na>Message</span><span class=o>=</span><span class=s>Main branch is currently broken. Use Dev branch instead.</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=na>MessageColor</span><span class=o>=</span><span class=s>Yellow</span>
</span></code></pre></div> <p><img alt="Screenshot 156" src=Screenshots/414_plus0.0s.png></p> <p>消息会在 UGS 顶部以醒目的横幅显示，支持超链接。</p> <hr> <h2 id=-_1>第十部分：预编译二进制 - 让美术和策划告别编译<a class=headerlink href=#-_1 title="Permanent link">&para;</a></h2> <h3 id=_7>问题背景<a class=headerlink href=#_7 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 157" src=Screenshots/415_plus0.0s.png></p> <p><strong>典型矛盾</strong>：</p> <p><img alt="Screenshot 158" src=Screenshots/416_plus0.0s.png></p> <ul> <li><strong>程序员</strong>：需要引擎源码，方便调试和定制</li> <li><strong>美术/策划</strong>：只想用编辑器，不关心源码，更不想等待 30 分钟的编译</li> </ul> <p><img alt="Screenshot 159" src=Screenshots/418_plus0.0s.png></p> <p><strong>UGS 的解决方案</strong>：</p> <p>UGS 可以自动检测引擎代码变更，并在同步后触发本地编译。但这仍然需要每个人的机器都有完整的编译环境。</p> <p><img alt="Screenshot 160" src=Screenshots/419_plus0.0s.png></p> <p><strong>更优雅的方案</strong>：</p> <p><img alt="Screenshot 161" src=Screenshots/420_plus0.0s.png></p> <p>让 Horde 在服务器上编译引擎，生成预编译二进制（Precompiled Binaries），然后团队成员直接下载。</p> <p><img alt="Screenshot 162" src=Screenshots/421_plus0.0s.png></p> <p>这样，非程序员无需安装 Visual Studio，也无需等待编译。</p> <h3 id=_8>启用预编译二进制下载<a class=headerlink href=#_8 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 163" src=Screenshots/424_plus0.0s.png></p> <p><strong>在 UGS 中切换模式</strong>：</p> <p><img alt="Screenshot 164" src=Screenshots/425_plus0.0s.png></p> <p>打开 UGS 的 Options 页面，选择 "Use Precompiled Binaries"。</p> <p><img alt="Screenshot 165" src=Screenshots/426_plus0.0s.png></p> <p>切换后，你会发现很多 CL 变成灰色，这表示这些 CL 没有可用的预编译二进制。</p> <p><img alt="Screenshot 166" src=Screenshots/427_plus0.0s.png></p> <p><strong>生成预编译二进制</strong>：</p> <p><img alt="Screenshot 167" src=Screenshots/427_plus0.0s.png></p> <p>在 Horde Dashboard 中运行 "Incremental Build" Job。这个 Job 会： 1. 编译引擎的所有模块 2. 将二进制文件打包成 .zip 3. 上传到 Horde 的 Artifact 存储</p> <p><img alt="Screenshot 168" src=Screenshots/430_plus0.0s.png></p> <p><strong>自动化策略</strong>：</p> <p>建议为 "Incremental Build" Job 配置 Schedule，在每次引擎代码提交后自动触发。这样，团队成员在 UGS 中始终能找到最新的预编译二进制。</p> <hr> <h2 id=-pc>第十一部分：跨平台测试 - 从 PC 到移动设备的自动化<a class=headerlink href=#-pc title="Permanent link">&para;</a></h2> <h3 id=device-dashboard>设备管理：Device Dashboard<a class=headerlink href=#device-dashboard title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 169" src=Screenshots/431_plus0.0s.png></p> <p><strong>挑战场景</strong>：</p> <p><img alt="Screenshot 170" src=Screenshots/432_plus0.0s.png></p> <ul> <li>团队只有一台 iPhone 13，多个开发者需要轮流测试</li> <li>每次测试都要手动打包、手动部署、手动运行</li> </ul> <p><img alt="Screenshot 171" src=Screenshots/433_plus0.0s.png></p> <p><strong>Horde + Gauntlet 的解决方案</strong>：</p> <p><img alt="Screenshot 172" src=Screenshots/434_plus0.0s.png></p> <p>Gauntlet 是 UE 自带的设备测试框架，Horde 提供了设备管理和调度功能。</p> <p><img alt="Screenshot 173" src=Screenshots/436_plus0.0s.png></p> <h3 id=android>配置 Android 设备测试<a class=headerlink href=#android title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 174" src=Screenshots/437_plus0.0s.png></p> <p><strong>步骤 1：在 Horde 中注册设备</strong></p> <p><img alt="Screenshot 175" src=Screenshots/438_plus0.0s.png></p> <p>在 Horde Dashboard 的 Devices 页面，点击 "Add Device"：</p> <p><img alt="Screenshot 176" src=Screenshots/439_plus0.0s.png></p> <div class="language-json highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=p>{</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=w>  </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Samsung Galaxy S21&quot;</span><span class=p>,</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=w>  </span><span class=nt>&quot;platform&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Android&quot;</span><span class=p>,</span>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=w>  </span><span class=nt>&quot;address&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;192.168.1.100:5555&quot;</span><span class=w>  </span><span class=c1>// ADB 连接地址</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=p>}</span>
</span></code></pre></div> <p><img alt="Screenshot 177" src=Screenshots/441_plus0.0s.png></p> <p><strong>步骤 2：指定负责的 Agent</strong></p> <p><img alt="Screenshot 178" src=Screenshots/442_plus0.0s.png></p> <p>设备必须连接到某台 Agent 机器（通过 USB 或 ADB over Wi-Fi）。</p> <p><img alt="Screenshot 179" src=Screenshots/443_plus0.0s.png></p> <p><strong>步骤 3：创建 DevKit Pool</strong></p> <p><img alt="Screenshot 180" src=Screenshots/444_plus0.0s.png></p> <p>在 <code>Global.json</code> 中定义一个新的 Pool：</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=p>{</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=w>  </span><span class=nt>&quot;compute&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=w>    </span><span class=nt>&quot;pools&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=w>        </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;win-devkit-automation&quot;</span><span class=p>,</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=w>        </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Windows DevKit Automation&quot;</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a><span class=w>    </span><span class=p>]</span>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=p>}</span>
</span></code></pre></div> <p><img alt="Screenshot 181" src=Screenshots/445_plus0.0s.png></p> <p>然后手动将负责设备的 Agent 加入这个 Pool。</p> <p><img alt="Screenshot 182" src=Screenshots/446_plus0.0s.png></p> <p><img alt="Screenshot 183" src=Screenshots/447_plus0.0s.png></p> <p><strong>步骤 4：运行测试 Job</strong></p> <p><img alt="Screenshot 184" src=Screenshots/448_plus0.0s.png></p> <p>触发 "Package and Test" Job，选择 Android 平台。Horde 会： 1. 在编译 Agent 上打包 APK 2. 将 APK 传输到 DevKit Agent 3. 通过 ADB 安装到设备 4. 运行 Gauntlet 测试脚本 5. 收集测试结果并上传</p> <p><img alt="Screenshot 185" src=Screenshots/449_plus0.0s.png></p> <p><strong>实际运行效果</strong>：</p> <p><img alt="Screenshot 186" src=Screenshots/450_plus0.0s.png></p> <p>你会看到设备自动启动游戏，执行预定义的操作（如进入关卡、触发特定事件），然后自动退出。</p> <p><img alt="Screenshot 187" src=Screenshots/451_plus0.0s.png></p> <p>整个过程无需人工干预，测试报告会自动出现在 Horde Dashboard 中。</p> <hr> <h2 id=blueprint-ta>第十二部分：Blueprint 测试 - 让 TA 也能写自动化测试<a class=headerlink href=#blueprint-ta title="Permanent link">&para;</a></h2> <h3 id=functional-test>Functional Test 插件<a class=headerlink href=#functional-test title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 188" src=Screenshots/452_plus0.0s.png></p> <p><strong>设计哲学</strong>：</p> <p><img alt="Screenshot 189" src=Screenshots/453_plus0.0s.png></p> <p>传统的自动化测试需要 C++ 代码，这对非程序员是个门槛。UE 的 Functional Test 插件允许用 Blueprint 编写测试用例。</p> <p><img alt="Screenshot 190" src=Screenshots/456_plus0.0s.png></p> <p><strong>创建测试</strong>：</p> <p><img alt="Screenshot 191" src=Screenshots/457_plus0.0s.png></p> <ol> <li>启用 "Functional Testing Editor" 插件</li> <li>创建一个继承自 <code>FunctionalTest</code> 的 Blueprint 类</li> </ol> <p><img alt="Screenshot 192" src=Screenshots/458_plus0.0s.png></p> <ol> <li><strong>命名规则</strong>：必须以 <code>FTest_</code> 开头（如 <code>FTest_PerformanceCheck</code>），这样 Gauntlet 才能自动发现</li> </ol> <p><img alt="Screenshot 193" src=Screenshots/459_plus0.0s.png></p> <p><strong>示例：FPS 性能测试</strong></p> <p><img alt="Screenshot 194" src=Screenshots/459_plus0.0s.png></p> <p>以下是一个简单的性能测试 Blueprint： - 播放一个 Level Sequence - 每帧记录 FPS - 测试结束时，检查最低 FPS 是否达标 - 使用 <code>Finish Test</code> 节点报告成功/失败</p> <p><img alt="Screenshot 195" src=Screenshots/459_plus0.0s.png></p> <p><strong>重要提示</strong>：这只是演示概念，真正的性能测试应该使用 Unreal Insights 和 Gauntlet 的专用性能分析工具。</p> <p><img alt="Screenshot 196" src=Screenshots/463_plus0.0s.png></p> <p><strong>本地验证</strong>：</p> <p><img alt="Screenshot 197" src=Screenshots/463_plus0.0s.png></p> <p>在编辑器中打开 Session Frontend，可以看到所有 <code>FTest_</code> 开头的测试。点击运行，立即查看结果。</p> <p><img alt="Screenshot 198" src=Screenshots/465_plus0.0s.png></p> <p>测试日志会输出到 Output Log，包括自定义的性能数据（如最高/最低/平均 FPS）。</p> <h3 id=horde_2>在 Horde 中查看测试结果<a class=headerlink href=#horde_2 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 199" src=Screenshots/467_plus0.0s.png></p> <p><strong>Automation Hub</strong>：</p> <p><img alt="Screenshot 200" src=Screenshots/467_plus0.0s.png></p> <p>Horde 的 Automation Hub 页面聚合了所有项目的测试结果。你可以快速看到哪些 CL 引入了测试失败。</p> <p><img alt="Screenshot 201" src=Screenshots/469_plus0.0s.png></p> <p><strong>失败详情</strong>：</p> <p><img alt="Screenshot 202" src=Screenshots/469_plus0.0s.png></p> <p>点击失败的测试，可以看到完整的日志输出，包括 Blueprint 中打印的自定义消息。</p> <p><img alt="Screenshot 203" src=Screenshots/471_plus0.0s.png></p> <p>例如，性能测试失败时，日志会显示： <div class="language-text highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>[FTest_PerformanceCheck] Minimum FPS: 28 (Expected: 30)
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>[FTest_PerformanceCheck] Test FAILED
</span></code></pre></div></p> <p><img alt="Screenshot 204" src=Screenshots/472_plus0.0s.png></p> <p><strong>趋势分析</strong>：</p> <p><img alt="Screenshot 205" src=Screenshots/473_plus0.0s.png></p> <p>Horde 会保留历史测试数据，你可以生成趋势图，观察性能是否随版本迭代而下降。</p> <p><img alt="Screenshot 206" src=Screenshots/474_plus0.0s.png></p> <p>（注：为了演示失败场景，示例中故意在场景中放置了大量高多边形模型以降低 FPS）</p> <hr> <h2 id=-docker>第十三部分：高级主题 - Docker 部署与配置管理<a class=headerlink href=#-docker title="Permanent link">&para;</a></h2> <h3 id=docker>为什么选择 Docker？<a class=headerlink href=#docker title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 207" src=Screenshots/476_plus0.0s.png></p> <p><strong>跨平台需求</strong>：</p> <p><img alt="Screenshot 208" src=Screenshots/477_plus0.0s.png></p> <p>虽然 Windows MSI 安装简单，但很多团队需要在 Linux 服务器上部署 Horde（尤其是云环境）。</p> <p><img alt="Screenshot 209" src=Screenshots/478_plus0.0s.png></p> <p><strong>一致性保证</strong>：</p> <p><img alt="Screenshot 210" src=Screenshots/479_plus0.0s.png></p> <p>Docker 容器确保 Horde Server、MongoDB、Redis 等依赖的版本完全一致，避免环境差异导致的问题。</p> <p><img alt="Screenshot 211" src=Screenshots/480_plus0.0s.png></p> <h3 id=horde-docker>构建 Horde Docker 镜像<a class=headerlink href=#horde-docker title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 212" src=Screenshots/502_plus0.0s.png></p> <p><strong>使用 BuildGraph 脚本</strong>：</p> <p><img alt="Screenshot 213" src=Screenshots/503_plus0.0s.png></p> <p>UE 源码中包含 <code>Engine/Source/Programs/Horde/BuildHorde.xml</code>，这是一个专门用于构建 Horde 的 BuildGraph 脚本。</p> <p><img alt="Screenshot 214" src=Screenshots/504_plus0.0s.png></p> <p><strong>关键节点</strong>：</p> <p><img alt="Screenshot 215" src=Screenshots/505_plus0.0s.png></p> <ul> <li><code>Build Horde Server</code>：编译 Horde 后端（.NET 应用）</li> <li><code>Build Horde Dashboard</code>：编译前端（React 应用）</li> <li><code>Build Horde Agent</code>：编译 Agent 程序</li> <li><code>Build UGS</code>：编译 Unreal Game Sync</li> </ul> <p><img alt="Screenshot 216" src=Screenshots/506_plus0.0s.png></p> <ul> <li><code>Build Bundled Docker Image</code>：将所有组件打包成一个 Docker 镜像</li> </ul> <p><img alt="Screenshot 217" src=Screenshots/507_plus0.0s.png></p> <p><strong>执行构建</strong>：</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>RunUAT.bat<span class=w> </span>BuildGraph<span class=w> </span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=w>  </span>-Script<span class=o>=</span>Engine/Source/Programs/Horde/BuildHorde.xml<span class=w> </span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=w>  </span>-Target<span class=o>=</span><span class=s2>&quot;Build Bundled Docker Image&quot;</span><span class=w> </span>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=w>  </span>-set:OutputDir<span class=o>=</span>D:/HordeBuild
</span></code></pre></div> <p><img alt="Screenshot 218" src=Screenshots/509_plus0.0s.png></p> <p>构建完成后，你会得到一个 Docker 镜像文件，可以部署到任何支持 Docker 的环境。</p> <h3 id=docker-compose>使用 Docker Compose 部署<a class=headerlink href=#docker-compose title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 219" src=Screenshots/510_plus0.0s.png></p> <p><strong>依赖管理</strong>：</p> <p><img alt="Screenshot 220" src=Screenshots/511_plus0.0s.png></p> <p>Horde 依赖 MongoDB（存储配置和元数据）和 Redis（缓存和任务队列）。</p> <p><img alt="Screenshot 221" src=Screenshots/512_plus0.0s.png></p> <p><strong>示例 docker-compose.yml</strong>：</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s>&#39;3.8&#39;</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=nt>services</span><span class=p>:</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=w>  </span><span class=nt>horde-server</span><span class=p>:</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">horde-server:latest</span>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a><span class=w>    </span><span class=nt>ports</span><span class=p>:</span>
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;13340:13340&quot;</span>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span>
</span><span id=__span-17-8><a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./data:/app/data</span>
</span><span id=__span-17-9><a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a><span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span>
</span><span id=__span-17-10><a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mongo</span>
</span><span id=__span-17-11><a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">redis</span>
</span><span id=__span-17-12><a id=__codelineno-17-12 name=__codelineno-17-12 href=#__codelineno-17-12></a>
</span><span id=__span-17-13><a id=__codelineno-17-13 name=__codelineno-17-13 href=#__codelineno-17-13></a><span class=w>  </span><span class=nt>mongo</span><span class=p>:</span>
</span><span id=__span-17-14><a id=__codelineno-17-14 name=__codelineno-17-14 href=#__codelineno-17-14></a><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mongo:6.0</span>
</span><span id=__span-17-15><a id=__codelineno-17-15 name=__codelineno-17-15 href=#__codelineno-17-15></a><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span>
</span><span id=__span-17-16><a id=__codelineno-17-16 name=__codelineno-17-16 href=#__codelineno-17-16></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mongo-data:/data/db</span>
</span><span id=__span-17-17><a id=__codelineno-17-17 name=__codelineno-17-17 href=#__codelineno-17-17></a>
</span><span id=__span-17-18><a id=__codelineno-17-18 name=__codelineno-17-18 href=#__codelineno-17-18></a><span class=w>  </span><span class=nt>redis</span><span class=p>:</span>
</span><span id=__span-17-19><a id=__codelineno-17-19 name=__codelineno-17-19 href=#__codelineno-17-19></a><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">redis:7.0</span>
</span><span id=__span-17-20><a id=__codelineno-17-20 name=__codelineno-17-20 href=#__codelineno-17-20></a><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span>
</span><span id=__span-17-21><a id=__codelineno-17-21 name=__codelineno-17-21 href=#__codelineno-17-21></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">redis-data:/data</span>
</span><span id=__span-17-22><a id=__codelineno-17-22 name=__codelineno-17-22 href=#__codelineno-17-22></a>
</span><span id=__span-17-23><a id=__codelineno-17-23 name=__codelineno-17-23 href=#__codelineno-17-23></a><span class=nt>volumes</span><span class=p>:</span>
</span><span id=__span-17-24><a id=__codelineno-17-24 name=__codelineno-17-24 href=#__codelineno-17-24></a><span class=w>  </span><span class=nt>mongo-data</span><span class=p>:</span>
</span><span id=__span-17-25><a id=__codelineno-17-25 name=__codelineno-17-25 href=#__codelineno-17-25></a><span class=w>  </span><span class=nt>redis-data</span><span class=p>:</span>
</span></code></pre></div> <p><img alt="Screenshot 222" src=Screenshots/513_plus0.0s.png></p> <p><strong>启动服务</strong>：</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a>docker-compose<span class=w> </span>up<span class=w> </span>-d
</span></code></pre></div> <p><img alt="Screenshot 223" src=Screenshots/514_plus0.0s.png></p> <p><strong>配置文件挂载</strong>：</p> <p><img alt="Screenshot 224" src=Screenshots/515_plus0.0s.png></p> <p>注意 <code>volumes</code> 部分将 <code>./data</code> 目录挂载到容器内。这样，你可以在宿主机上编辑 <code>Global.json</code> 等配置文件，Horde 会自动重新加载。</p> <p><img alt="Screenshot 225" src=Screenshots/516_plus0.0s.png></p> <p>但在生产环境中，这种方式不够灵活。更好的做法是将配置存储在 Perforce 中。</p> <h3 id=_9>配置文件的版本控制<a class=headerlink href=#_9 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 226" src=Screenshots/517_plus0.0s.png></p> <p><strong>问题</strong>：</p> <p>如果 Horde Server 部署在云端，如何方便地更新配置？每次都要 SSH 登录服务器修改文件吗?</p> <p><img alt="Screenshot 227" src=Screenshots/518_plus0.0s.png></p> <p><strong>解决方案：Perforce 托管配置</strong></p> <p><img alt="Screenshot 228" src=Screenshots/519_plus0.0s.png></p> <p>Horde 支持直接从 Perforce 读取配置文件。在 <code>Server.json</code> 中：</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=p>{</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=w>  </span><span class=nt>&quot;globalConfig&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;//HordeConfig/Main/Global.json&quot;</span><span class=p>,</span>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=w>  </span><span class=nt>&quot;perforce&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=w>    </span><span class=nt>&quot;userName&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;horde-service&quot;</span><span class=p>,</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=w>    </span><span class=nt>&quot;password&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;your-password&quot;</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=p>}</span>
</span></code></pre></div> <p><img alt="Screenshot 229" src=Screenshots/520_plus0.0s.png></p> <p><strong>优势</strong>：</p> <p><img alt="Screenshot 230" src=Screenshots/521_plus0.0s.png></p> <ul> <li><strong>版本历史</strong>：所有配置变更都有 Perforce 历史记录</li> <li><strong>Code Review</strong>：配置修改可以走 Shelved CL + Pre-flight 流程</li> </ul> <p><img alt="Screenshot 231" src=Screenshots/522_plus0.0s.png></p> <ul> <li><strong>权限控制</strong>：利用 Perforce 的 ACL 管理谁能修改哪些配置</li> </ul> <p><img alt="Screenshot 232" src=Screenshots/523_plus0.0s.png></p> <p><strong>路径解析规则</strong>：</p> <p><img alt="Screenshot 233" src=Screenshots/524_plus0.0s.png></p> <p>当配置文件从 Perforce 加载时，其中的相对路径会基于 Perforce 的工作空间解析。</p> <p><img alt="Screenshot 234" src=Screenshots/526_plus0.0s.png></p> <p><strong>最佳实践</strong>：</p> <p><img alt="Screenshot 235" src=Screenshots/527_plus0.0s.png></p> <ul> <li>将 <code>Global.json</code> 和 <code>Project.json</code> 存储在独立的 Perforce Stream（如 <code>//HordeConfig/Main</code>）</li> </ul> <p><img alt="Screenshot 236" src=Screenshots/529_plus0.0s.png></p> <ul> <li>将 <code>Stream.json</code> 存储在各项目的代码库中（如 <code>//Lyra/Main/Build/Horde/Stream.json</code>）</li> </ul> <p><img alt="Screenshot 237" src=Screenshots/530_plus0.0s.png></p> <p>这样，项目团队可以自主管理自己的 Job 定义，而全局配置由 DevOps 团队集中管理。</p> <p><img alt="Screenshot 238" src=Screenshots/531_plus0.0s.png></p> <p><img alt="Screenshot 239" src=Screenshots/533_plus0.0s.png></p> <hr> <h2 id=_10>第十四部分：开发者体验优化<a class=headerlink href=#_10 title="Permanent link">&para;</a></h2> <h3 id=json-schema>JSON Schema 智能提示<a class=headerlink href=#json-schema title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 240" src=Screenshots/535_plus0.0s.png></p> <p><strong>痛点</strong>：</p> <p><img alt="Screenshot 241" src=Screenshots/535_plus0.0s.png></p> <p>Horde 的配置文件字段众多，手写 JSON 容易出错。</p> <p><img alt="Screenshot 242" src=Screenshots/538_plus0.0s.png></p> <p><strong>解决方案：JSON Schema</strong></p> <p><img alt="Screenshot 243" src=Screenshots/539_plus0.0s.png></p> <p>Horde Server 提供了完整的 JSON Schema 定义，可以在 Visual Studio Code 或 Visual Studio 中启用智能提示。</p> <p><img alt="Screenshot 244" src=Screenshots/540_plus0.0s.png></p> <p><strong>配置方法（Visual Studio）</strong>：</p> <p><img alt="Screenshot 245" src=Screenshots/541_plus0.0s.png></p> <ol> <li>打开 <code>工具 -&gt; 选项 -&gt; 文本编辑器 -&gt; JSON -&gt; Schema</code></li> <li>添加 Schema Catalog URL：</li> </ol> <div class="language-text highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a>http://your-horde-server:13340/api/v1/schema
</span></code></pre></div> <p><img alt="Screenshot 246" src=Screenshots/542_plus0.0s.png></p> <p><strong>效果</strong>：</p> <p>编辑 <code>Global.json</code> 时，输入 <code>"</code> 会自动弹出可用字段列表，鼠标悬停会显示字段说明。这极大降低了配置错误率。</p> <h3 id=_11>用户权限与认证<a class=headerlink href=#_11 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 247" src=Screenshots/543_plus0.0s.png></p> <p><strong>默认行为</strong>：</p> <p><img alt="Screenshot 248" src=Screenshots/544_plus0.0s.png></p> <p>Horde 初始安装时没有启用认证，任何人都可以访问和操作。这在本地测试时很方便，但生产环境必须启用权限控制。</p> <p><img alt="Screenshot 249" src=Screenshots/545_plus0.0s.png></p> <p><strong>认证方式选择</strong>：</p> <p><img alt="Screenshot 250" src=Screenshots/547_plus0.0s.png></p> <p>Horde 支持两种认证方式： - <strong>OIDC（OpenID Connect）</strong>：对接企业的 SSO 系统（如 Okta、Azure AD） - <strong>Horde 内置认证</strong>：简单的用户名/密码系统</p> <p><img alt="Screenshot 251" src=Screenshots/549_plus0.0s.png></p> <p><strong>启用内置认证</strong>：</p> <p>编辑 <code>Server.json</code>：</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=p>{</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=w>  </span><span class=nt>&quot;authMethod&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Horde&quot;</span>
</span><span id=__span-21-3><a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=p>}</span>
</span></code></pre></div> <p><img alt="Screenshot 252" src=Screenshots/550_plus0.0s.png></p> <p>重启 Horde Server 后，首次访问会要求设置管理员密码。</p> <p><img alt="Screenshot 253" src=Screenshots/551_plus0.0s.png></p> <p><strong>用户管理</strong>：</p> <p><img alt="Screenshot 254" src=Screenshots/552_plus0.0s.png></p> <p>在 Dashboard 的 User Accounts 页面，可以创建用户并分配到不同的组：</p> <p><img alt="Screenshot 255" src=Screenshots/553_plus0.0s.png></p> <ul> <li><strong>Admins</strong>：完全控制权限</li> <li><strong>Developers</strong>：可以启动 Job、查看日志</li> <li><strong>Viewers</strong>：只读权限，适合 QA 和管理层</li> </ul> <p><img alt="Screenshot 256" src=Screenshots/554_plus0.0s.png></p> <p><strong>权限粒度</strong>：</p> <p><img alt="Screenshot 257" src=Screenshots/555_plus0.0s.png></p> <p>权限可以细化到 Project 和 Stream 级别。例如，ProjectA 的开发者无法启动 ProjectB 的 Job。</p> <p><img alt="Screenshot 258" src=Screenshots/556_plus0.0s.png></p> <p>用户可以在 User Preferences 页面查看自己的权限列表，方便排查权限问题。</p> <hr> <h2 id=_12>第十五部分：扩展与集成<a class=headerlink href=#_12 title="Permanent link">&para;</a></h2> <h3 id=http-api>HTTP API：自动化的无限可能<a class=headerlink href=#http-api title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 259" src=Screenshots/557_plus0.0s.png></p> <p><strong>Swagger 文档</strong>：</p> <p><img alt="Screenshot 260" src=Screenshots/558_plus0.0s.png></p> <p>Horde 提供了完整的 RESTful API，所有 Dashboard 的功能都可以通过 API 调用。</p> <p><img alt="Screenshot 261" src=Screenshots/559_plus0.0s.png></p> <p>访问 <code>http://your-horde-server:13340/swagger</code> 可以查看完整的 API 文档，并在线测试。</p> <p><img alt="Screenshot 262" src=Screenshots/560_plus0.0s.png></p> <p><strong>示例：创建全局通知</strong></p> <p><img alt="Screenshot 263" src=Screenshots/561_plus0.0s.png></p> <p>API Endpoint: <code>POST /api/v1/notices</code></p> <p>请求体： <div class="language-json highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=p>{</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=w>  </span><span class=nt>&quot;message&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Server maintenance scheduled at 2PM&quot;</span><span class=p>,</span>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=w>  </span><span class=nt>&quot;startTime&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;2024-01-15T14:00:00Z&quot;</span><span class=p>,</span>
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=w>  </span><span class=nt>&quot;finishTime&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;2024-01-15T16:00:00Z&quot;</span>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a><span class=p>}</span>
</span></code></pre></div></p> <p><img alt="Screenshot 264" src=Screenshots/562_plus0.0s.png></p> <p>Swagger UI 允许你直接在浏览器中测试 API，无需编写代码。</p> <p><img alt="Screenshot 265" src=Screenshots/563_plus0.0s.png></p> <p><strong>实际应用场景</strong>：</p> <p><img alt="Screenshot 266" src=Screenshots/564_plus0.0s.png></p> <ul> <li><strong>CI/CD 集成</strong>：在 GitLab Pipeline 中调用 Horde API 触发构建</li> <li><strong>监控告警</strong>：当 Horde Job 失败时，通过 API 查询详情并发送到 Slack</li> <li><strong>自定义 Dashboard</strong>：为非技术人员制作简化版的构建状态页面</li> </ul> <p><img alt="Screenshot 267" src=Screenshots/565_plus0.0s.png></p> <p><strong>在 UE Editor 中集成 Horde</strong>：</p> <p><img alt="Screenshot 268" src=Screenshots/566_plus0.0s.png></p> <p>示例：创建一个 Editor Utility Widget，显示当前项目的构建状态。开发者无需离开编辑器，就能知道主干是否健康。</p> <h3 id=slack>Slack 集成<a class=headerlink href=#slack title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 269" src=Screenshots/567_plus0.0s.png></p> <p><strong>通知机制</strong>：</p> <p><img alt="Screenshot 270" src=Screenshots/568_plus0.0s.png></p> <p>Horde 内置 Slack 集成，可以在构建失败时自动 @ 相关开发者。</p> <p>配置方法： 1. 在 Slack 中创建 Incoming Webhook 2. 在 <code>Global.json</code> 中配置：</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=p>{</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=w>  </span><span class=nt>&quot;notifications&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=w>    </span><span class=nt>&quot;slack&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-4><a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=w>      </span><span class=nt>&quot;webhookUrl&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;https://hooks.slack.com/services/YOUR/WEBHOOK/URL&quot;</span><span class=p>,</span>
</span><span id=__span-23-5><a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=w>      </span><span class=nt>&quot;channel&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;#build-alerts&quot;</span>
</span><span id=__span-23-6><a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-23-7><a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-23-8><a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a><span class=p>}</span>
</span></code></pre></div> <ol> <li>在 Job 模板中启用通知：</li> </ol> <div class="language-json highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=p>{</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=w>  </span><span class=nt>&quot;templates&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=w>      </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;main-build&quot;</span><span class=p>,</span>
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=w>      </span><span class=nt>&quot;notifications&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-6><a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=w>        </span><span class=nt>&quot;onFailure&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;slack&quot;</span><span class=p>]</span>
</span><span id=__span-24-7><a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-24-8><a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-24-9><a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=w>  </span><span class=p>]</span>
</span><span id=__span-24-10><a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a><span class=p>}</span>
</span></code></pre></div> <p>当构建失败时，Slack 会收到包含 Job 链接、失败原因、责任人（基于 Perforce 提交记录）的消息。</p> <h3 id=uba-zen-server>UBA 与 Zen Server：编译加速的未来<a class=headerlink href=#uba-zen-server title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 271" src=Screenshots/568_plus0.0s.png></p> <p><strong>UBA（Unreal Build Accelerator）</strong>：</p> <p><img alt="Screenshot 272" src=Screenshots/568_plus0.0s.png></p> <p>Horde 可以作为 UBA 的协调器，将本地编译任务分发到远程 Agent，实现分布式编译。这类似于 IncrediBuild，但完全免费且深度集成 UE。</p> <p><img alt="Screenshot 273" src=Screenshots/483_plus0.0s.png></p> <p><strong>Zen Server 作为 Cooked Output Store</strong>：</p> <p><img alt="Screenshot 274" src=Screenshots/483_plus0.0s.png></p> <p>在移动端开发时，每次迭代都要重新 Cook 和部署几 GB 的资源。启用 Zen Server 后：</p> <p><img alt="Screenshot 275" src=Screenshots/485_plus0.0s.png></p> <ul> <li>设备上只部署一个小的配置文件（指向 Zen Server 的 IP）</li> <li>游戏运行时按需从 Zen Server 流式加载资源</li> </ul> <p><img alt="Screenshot 276" src=Screenshots/487_plus0.0s.png></p> <p>这将部署时间从 5 分钟缩短到 10 秒，极大提升移动端迭代速度。</p> <hr> <h2 id=studio-telemetry-devops>第十六部分：Studio Telemetry - 数据驱动的 DevOps 决策<a class=headerlink href=#studio-telemetry-devops title="Permanent link">&para;</a></h2> <h3 id=_13>为什么需要遥测数据？<a class=headerlink href=#_13 title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 277" src=Screenshots/488_plus0.0s.png></p> <p><strong>盲目优化的问题</strong>：</p> <p><img alt="Screenshot 278" src=Screenshots/488_plus0.0s.png></p> <p>很多团队在投入 DevOps 工具时，不知道应该优先解决哪个痛点。是编译慢？还是 DDC 命中率低？还是编辑器启动慢？</p> <p><img alt="Screenshot 279" src=Screenshots/490_plus0.0s.png></p> <p><strong>Studio Telemetry 插件</strong>：</p> <p>这是 UE 内置的遥测系统，可以自动收集开发者的工作数据，例如： - 编辑器启动时间 - 编译耗时 - DDC 命中率 - 崩溃频率 - 资源加载时间</p> <p><img alt="Screenshot 280" src=Screenshots/491_plus0.0s.png></p> <p>数据会上传到 Horde，并在 Dashboard 中生成可视化报表。</p> <h3 id=telemetry>配置 Telemetry<a class=headerlink href=#telemetry title="Permanent link">&para;</a></h3> <p><img alt="Screenshot 281" src=Screenshots/492_plus0.0s.png></p> <p><strong>步骤 1：启用插件</strong></p> <p>在项目的 <code>DefaultEngine.ini</code> 中：</p> <div class="language-ini highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=k>[StudioTelemetry]</span>
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=na>Enabled</span><span class=o>=</span><span class=s>true</span>
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=na>ServerUrl</span><span class=o>=</span><span class=s>http://your-horde-server:13340</span>
</span></code></pre></div> <p><img alt="Screenshot 282" src=Screenshots/493_plus0.0s.png></p> <p><strong>步骤 2：配置 Dashboard 视图</strong></p> <p><img alt="Screenshot 283" src=Screenshots/494_plus0.0s.png></p> <p>在 <code>Global.json</code> 中定义要展示的指标：</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=p>{</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=w>  </span><span class=nt>&quot;telemetry&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a><span class=w>    </span><span class=nt>&quot;stores&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=w>        </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;editor-startup&quot;</span><span class=p>,</span>
</span><span id=__span-26-6><a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a><span class=w>        </span><span class=nt>&quot;metrics&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-26-7><a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a><span class=w>          </span><span class=p>{</span>
</span><span id=__span-26-8><a id=__codelineno-26-8 name=__codelineno-26-8 href=#__codelineno-26-8></a><span class=w>            </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;EditorStartupTime&quot;</span><span class=p>,</span>
</span><span id=__span-26-9><a id=__codelineno-26-9 name=__codelineno-26-9 href=#__codelineno-26-9></a><span class=w>            </span><span class=nt>&quot;aggregation&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Average&quot;</span>
</span><span id=__span-26-10><a id=__codelineno-26-10 name=__codelineno-26-10 href=#__codelineno-26-10></a><span class=w>          </span><span class=p>}</span>
</span><span id=__span-26-11><a id=__codelineno-26-11 name=__codelineno-26-11 href=#__codelineno-26-11></a><span class=w>        </span><span class=p>]</span>
</span><span id=__span-26-12><a id=__codelineno-26-12 name=__codelineno-26-12 href=#__codelineno-26-12></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-26-13><a id=__codelineno-26-13 name=__codelineno-26-13 href=#__codelineno-26-13></a><span class=w>    </span><span class=p>],</span>
</span><span id=__span-26-14><a id=__codelineno-26-14 name=__codelineno-26-14 href=#__codelineno-26-14></a><span class=w>    </span><span class=nt>&quot;views&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-26-15><a id=__codelineno-26-15 name=__codelineno-26-15 href=#__codelineno-26-15></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-26-16><a id=__codelineno-26-16 name=__codelineno-26-16 href=#__codelineno-26-16></a><span class=w>        </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;dev-experience&quot;</span><span class=p>,</span>
</span><span id=__span-26-17><a id=__codelineno-26-17 name=__codelineno-26-17 href=#__codelineno-26-17></a><span class=w>        </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Developer Experience&quot;</span><span class=p>,</span>
</span><span id=__span-26-18><a id=__codelineno-26-18 name=__codelineno-26-18 href=#__codelineno-26-18></a><span class=w>        </span><span class=nt>&quot;charts&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-26-19><a id=__codelineno-26-19 name=__codelineno-26-19 href=#__codelineno-26-19></a><span class=w>          </span><span class=p>{</span>
</span><span id=__span-26-20><a id=__codelineno-26-20 name=__codelineno-26-20 href=#__codelineno-26-20></a><span class=w>            </span><span class=nt>&quot;title&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Editor Startup Time (7 Days)&quot;</span><span class=p>,</span>
</span><span id=__span-26-21><a id=__codelineno-26-21 name=__codelineno-26-21 href=#__codelineno-26-21></a><span class=w>            </span><span class=nt>&quot;metric&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;EditorStartupTime&quot;</span>
</span><span id=__span-26-22><a id=__codelineno-26-22 name=__codelineno-26-22 href=#__codelineno-26-22></a><span class=w>          </span><span class=p>}</span>
</span><span id=__span-26-23><a id=__codelineno-26-23 name=__codelineno-26-23 href=#__codelineno-26-23></a><span class=w>        </span><span class=p>]</span>
</span><span id=__span-26-24><a id=__codelineno-26-24 name=__codelineno-26-24 href=#__codelineno-26-24></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-26-25><a id=__codelineno-26-25 name=__codelineno-26-25 href=#__codelineno-26-25></a><span class=w>    </span><span class=p>]</span>
</span><span id=__span-26-26><a id=__codelineno-26-26 name=__codelineno-26-26 href=#__codelineno-26-26></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-26-27><a id=__codelineno-26-27 name=__codelineno-26-27 href=#__codelineno-26-27></a><span class=p>}</span>
</span></code></pre></div> <p><img alt="Screenshot 284" src=Screenshots/495_plus0.0s.png></p> <p>Horde 提供了丰富的示例配置，涵盖常见的性能指标。</p> <p><img alt="Screenshot 285" src=Screenshots/497_plus0.0s.png></p> <p><strong>步骤 3：查看报表</strong></p> <p>在 Dashboard 的 Telemetry 页面，你可以看到： - 团队平均编辑器启动时间的趋势 - DDC 命中率是否因为服务器问题下降 - 哪些开发者的机器配置明显低于团队平均水平</p> <p>这些数据可以指导你优先投入资源解决最影响效率的问题。</p> <hr> <h2 id=_14>第十七部分：实战总结与最佳实践<a class=headerlink href=#_14 title="Permanent link">&para;</a></h2> <h3 id=horde-vs-cicd>方案对比：Horde vs 传统 CICD<a class=headerlink href=#horde-vs-cicd title="Permanent link">&para;</a></h3> <blockquote> <p><strong>方案 A：Horde</strong> - 🟢 <strong>优势</strong>： - 开箱即用的 UE 集成（UAT、Gauntlet、UGS） - 深度绑定 BuildGraph，任务定义与调度解耦 - 预编译二进制、设备管理等游戏开发特有功能 - Epic 内部实战验证，稳定性有保障 - 🔴 <strong>劣势</strong>： - 强依赖 Perforce（Git 支持需要额外工作） - 社区生态不如 Jenkins/GitLab CI 成熟 - 学习曲线较陡（需理解 BuildGraph） - 🎯 <strong>适用场景</strong>： - 使用 Perforce 的 UE 项目 - 需要多平台自动化测试 - 团队规模 &gt; 10 人</p> <p><strong>方案 B：Jenkins + 自定义脚本</strong> - 🟢 <strong>优势</strong>： - 灵活性极高，可以集成任何工具 - 丰富的插件生态 - 社区支持强大 - 🔴 <strong>劣势</strong>： - 需要从零配置 UE 相关的所有流程 - 缺少 UGS、预编译二进制等开箱即用功能 - 维护成本高（需要专人负责） - 🎯 <strong>适用场景</strong>： - 使用 Git 且不打算切换到 Perforce - 团队有专职 DevOps 工程师 - 需要集成非 UE 的构建流程（如后端服务）</p> </blockquote> <h3 id=_15>避坑指南<a class=headerlink href=#_15 title="Permanent link">&para;</a></h3> <p><strong>坑 1：Agent 的 Service 模式无法运行 GUI 测试</strong></p> <ul> <li><strong>现象</strong>：Job 卡在"等待 Agent"，或者测试步骤被跳过</li> <li><strong>原因</strong>：Windows Service 无法启动 UE Editor 或打包后的游戏</li> <li><strong>解决</strong>：将测试 Agent 切换到 User Mode，并确保用户保持登录状态</li> </ul> <p><strong>坑 2：BuildGraph 脚本路径错误</strong></p> <ul> <li><strong>现象</strong>：Job 启动失败，提示找不到 <code>.xml</code> 文件</li> <li><strong>原因</strong>：Horde 配置中的路径是相对于 Perforce Workspace 的，不是相对于本地磁盘</li> <li><strong>解决</strong>：使用 Perforce 路径格式（如 <code>//UE5/Main/Engine/Build/Graph/BuildAndTestProject.xml</code>）</li> </ul> <p><strong>坑 3：预编译二进制版本不匹配</strong></p> <ul> <li><strong>现象</strong>：UGS 下载了预编译二进制，但编辑器启动失败</li> <li><strong>原因</strong>：Incremental Build Job 使用的引擎版本与当前 Stream 不一致</li> <li><strong>解决</strong>：确保 Incremental Build 的 Schedule 配置了正确的 Stream 过滤规则</li> </ul> <p><strong>坑 4：设备测试失败但日志不清晰</strong></p> <ul> <li><strong>现象</strong>：Gauntlet 测试报告显示失败，但看不到具体错误</li> <li><strong>原因</strong>：设备日志没有正确上传到 Horde</li> <li><strong>解决</strong>：在 BuildGraph 脚本中添加 <code>&lt;Property Name="GauntletLogDir" Value="$(RootDir)/Logs" /&gt;</code>，确保日志被标记为 Artifact</li> </ul> <p><strong>坑 5：配置修改不生效</strong></p> <ul> <li><strong>现象</strong>：修改了 <code>Global.json</code>，但 Dashboard 没有变化</li> <li><strong>原因</strong>：Horde 有配置缓存机制</li> <li><strong>解决</strong>：在 Dashboard 的 Settings 页面点击 "Reload Configuration"，或重启 Horde Server</li> </ul> <h3 id=_16>最佳实践清单<a class=headerlink href=#_16 title="Permanent link">&para;</a></h3> <p>✅ <strong>配置管理</strong> - 将 <code>Global.json</code> 和 <code>Project.json</code> 存储在独立的 Perforce Stream - 将 <code>Stream.json</code> 存储在各项目的代码库中 - 使用 JSON Schema 启用智能提示 - 定期备份 MongoDB 数据（包含 Job 历史和 Telemetry 数据）</p> <p>✅ <strong>Agent 规划</strong> - 编译 Agent：高 CPU 核心数（16+），大内存（64GB+），SSD - 测试 Agent：独立显卡，保持用户登录状态 - DevKit Agent：物理连接测试设备，稳定的网络 - 使用 Pool 标签精细控制任务分配</p> <p>✅ <strong>Job 设计</strong> - 优先使用引擎自带的 <code>BuildAndTestProject.xml</code>，避免重复造轮子 - 为不同场景创建多个 Job 模板（快速验证 vs 完整测试） - 配置合理的 Schedule，避免资源浪费 - 使用 Pre-flight 作为代码合入的强制门禁</p> <p>✅ <strong>团队协作</strong> - 为非程序员启用预编译二进制下载 - 使用 UGS 的消息通知功能同步团队状态 - 配置 Slack 集成，及时通知构建失败 - 定期查看 Telemetry 数据，识别效率瓶颈</p> <p>✅ <strong>安全与权限</strong> - 生产环境必须启用认证 - 使用 Perforce ACL 控制配置文件的修改权限 - 为不同角色创建专用账号（如 <code>horde-service</code>、<code>build-agent</code>） - 定期审计 Admin 权限的使用</p> <hr> <h2 id=_17>结语<a class=headerlink href=#_17 title="Permanent link">&para;</a></h2> <p><img alt="Screenshot 286" src=Screenshots/570_plus0.0s.png></p> <p><strong>Horde 的核心价值</strong>：</p> <p><img alt="Screenshot 287" src=Screenshots/571_plus0.0s.png></p> <p>Horde 不仅仅是一个构建工具，它代表了 Epic Games 在大规模游戏开发中积累的 DevOps 最佳实践。通过将 CICD、版本控制、测试自动化、遥测分析整合到一个平台，Horde 帮助团队： - <strong>缩短反馈周期</strong>：从提交到发现问题，从数小时降到数分钟 - <strong>提升代码质量</strong>：Pre-flight 机制强制执行测试门禁 - <strong>优化资源利用</strong>：预编译二进制、分布式编译避免重复劳动 - <strong>数据驱动决策</strong>：Telemetry 数据指导 DevOps 投入方向</p> <p><img alt="Screenshot 288" src=Screenshots/572_plus0.0s.png></p> <p><strong>持续学习资源</strong>：</p> <p><img alt="Screenshot 289" src=Screenshots/573_plus0.0s.png></p> <ul> <li><strong>官方文档</strong>：Horde Dashboard 内置的文档会随版本更新</li> <li><strong>GitHub Issues</strong>：https://github.com/EpicGames/UnrealEngine （需要 Epic 账号）</li> <li><strong>Unreal Slackers 社区</strong>：Discord 服务器中有 #horde 频道</li> <li><strong>GDC Talks</strong>：搜索 "Epic Games Build Infrastructure" 可以找到相关演讲</li> </ul> <p><img alt="Screenshot 290" src=Screenshots/573_plus0.0s.png></p> <p><strong>下一步行动</strong>：</p> <p>如果你的团队正在考虑引入 Horde，建议按以下步骤推进： 1. <strong>概念验证（1 周）</strong>：在本地安装 Horde，配置一个简单的编译 Job 2. <strong>小规模试点（2-4 周）</strong>：选择一个非关键项目，配置完整的 CICD 流程 3. <strong>团队培训（1 周）</strong>：为开发者讲解 UGS、Pre-flight 等工具的使用 4. <strong>全面推广（1-2 月）</strong>：逐步将所有项目迁移到 Horde，优化 Agent 配置 5. <strong>持续优化</strong>：基于 Telemetry 数据，不断调整 Schedule 和测试策略</p> <p><img alt="Screenshot 291" src=Screenshots/573_plus0.0s.png></p> <p>感谢阅读这篇长文！希望它能帮助你理解 Horde 的设计哲学，并在实际项目中发挥价值。如果有任何问题，欢迎在 UE5 技术交流群中讨论。</p> <hr> <p><strong>关于作者</strong>：本文基于 Jack Condon（Epic Games 开发者关系资深工程师）在 UFSH2025 上的演讲整理而成。Jack 在 Epic 负责 Horde 的推广和技术支持，拥有丰富的大规模项目 DevOps 经验。</p> <p><strong>版权声明</strong>：本文内容来源于公开技术分享，截图版权归 Epic Games 所有。文章仅供学习交流使用，不得用于商业用途。</p> <!-- Giscus 评论系统 --> <!-- 文章底部评论系统 --> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2025 UF Book Team </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/yourusername/ufbook target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://space.bilibili.com/ target=_blank rel=noopener title=space.bilibili.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92c-26.4-.8-48.2-9.8-65.3-27.2S.7 396.5 0 368.2V169.8c.8-26 9.7-47.6 26.7-65.7C43.8 87.8 65.5 78.8 92 78h29.4L96 52.2c-5.7-5.7-8.6-13-8.6-21.8S90.3 14.3 96 8.6 109 0 117.9 0s16.1 2.9 21.9 8.6L213.1 78h88l74.5-69.4C381.7 2.9 389.2 0 398 0s16.1 2.9 21.9 8.6c5.7 5.7 8.6 13 8.6 21.8s-2.9 16.1-8.6 21.8L394.6 78h29.3c26.4.8 48 9.8 64.7 26.1m-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96c-9.6.4-17.4 3.7-23.6 9.8-6.1 6.1-9.4 13.9-9.8 23.5v194.4c0 9.2 3.3 17 9.8 23.5s14.4 9.8 23.6 9.8h320.4c9.2 0 17-3.3 23.3-9.8s9.7-14.3 10.1-23.5zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5s-17.5-3.2-23.6-9.5-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2s13.2-9.6 23.3-10c9.2.4 17 3.7 23.3 10m191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2s-14 9.5-23.6 9.5-17.4-3.2-23.6-9.5c-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2s14.1-9.6 23.3-10c9.2.4 17 3.7 23.3 10"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.indexes", "navigation.top", "toc.follow", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.action.edit", "content.action.view"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../../assets/javascripts/analytics.js></script> <!-- 广告加载脚本 --> </body> </html>