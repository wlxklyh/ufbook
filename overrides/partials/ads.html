<!-- 广告组件 - 支持腾讯广告（GDT）和自定义广告 -->

{% if config.extra.tencent_ads_enabled %}
<!-- 腾讯广告（GDT） -->
<div class="tencent-ad-container">
  <!-- 顶部横幅广告位 -->
  <div class="ad-slot ad-slot--banner" id="tencent-ad-banner">
    <!-- 
      替换为您的腾讯广告代码
      在腾讯广告平台创建广告位后，将代码粘贴到这里
      推荐尺寸：970x90 或 728x90
    -->
    <div id="ad_{{ config.extra.tencent_ad_banner_id }}" style="width:970px;height:90px;"></div>
    <script>
      (function() {
        var s = "_" + Math.random().toString(36).slice(2);
        document.write('<div id="' + s + '"></div>');
        (window.slotbydup = window.slotbydup || []).push({
          id: "{{ config.extra.tencent_ad_banner_id }}",
          container: s,
          async: true
        });
      })();
    </script>
  </div>

  <!-- 右侧广告位（仅桌面端显示） -->
  <div class="ad-slot ad-slot--sidebar" id="tencent-ad-sidebar">
    <!-- 推荐尺寸：300x250 -->
    <div id="ad_{{ config.extra.tencent_ad_sidebar_id }}" style="width:300px;height:250px;"></div>
    <script>
      (function() {
        var s = "_" + Math.random().toString(36).slice(2);
        document.write('<div id="' + s + '"></div>');
        (window.slotbydup = window.slotbydup || []).push({
          id: "{{ config.extra.tencent_ad_sidebar_id }}",
          container: s,
          async: true
        });
      })();
    </script>
  </div>

  <!-- 文章底部广告位 -->
  <div class="ad-slot ad-slot--article-bottom" id="tencent-ad-article-bottom">
    <!-- 推荐尺寸：自适应 -->
    <div id="ad_{{ config.extra.tencent_ad_article_id }}" style="width:100%;height:auto;"></div>
    <script>
      (function() {
        var s = "_" + Math.random().toString(36).slice(2);
        document.write('<div id="' + s + '"></div>');
        (window.slotbydup = window.slotbydup || []).push({
          id: "{{ config.extra.tencent_ad_article_id }}",
          container: s,
          async: true
        });
      })();
    </script>
  </div>
</div>

<!-- 腾讯广告主脚本（异步加载） -->
<script>
  (function() {
    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.async = true;
    script.src = '//dup.baidustatic.com/js/ds.js';
    var firstScript = document.getElementsByTagName('script')[0];
    firstScript.parentNode.insertBefore(script, firstScript);
  })();
</script>
{% endif %}

{% if config.extra.custom_ads_enabled %}
<!-- 自定义广告代码 -->
<div class="custom-ad-container">
  {{ config.extra.custom_ad_code | safe }}
</div>
{% endif %}

<!-- 广告提示文字（可选） -->
<div class="ad-disclaimer">
  <small style="color: #999; font-size: 12px;">广告</small>
</div>


